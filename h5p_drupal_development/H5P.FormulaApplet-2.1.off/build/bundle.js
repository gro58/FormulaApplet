!function(){"use strict";var t,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={exports:{}};
/*!
	 * jQuery JavaScript Library v3.6.0
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright OpenJS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2021-03-02T17:08Z
	 */
t=n,function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}}("undefined"!=typeof window?window:e,(function(t,e){var n=[],i=Object.getPrototypeOf,r=n.slice,s=function(t){return n.concat.apply([],t)},o=n.push,a=n.indexOf,l={},c=l.toString,u=l.hasOwnProperty,p=u.toString,h=p.call(Object),f={},d=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},m=function(t){return null!=t&&t===t.window},g=t.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,n){var i,r,s=(n=n||g).createElement("script");if(s.text=t,e)for(i in v)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,r);n.head.appendChild(s).parentNode.removeChild(s)}function y(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[c.call(t)]||"object":typeof t}var x="3.6.0",w=function(t,e){return new w.fn.init(t,e)};function T(t){var e=!!t&&"length"in t&&t.length,n=y(t);return!d(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||d(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&o!==i&&(c&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[e],s=r&&!Array.isArray(n)?[]:r||w.isPlainObject(n)?n:{},r=!1,o[e]=w.extend(c,s,i)):void 0!==i&&(o[e]=i));return o},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==c.call(t)||(e=i(t))&&("function"!=typeof(n=u.call(e,"constructor")&&e.constructor)||p.call(n)!==h))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){b(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(T(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?w.merge(n,"string"==typeof t?[t]:t):o.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,s=t.length,o=!n;r<s;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(T(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return s(a)},guid:1,support:f}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){l["[object "+e+"]"]=e.toLowerCase()}));var k=
/*!
	     * Sizzle CSS Selector Engine v2.3.6
	     * https://sizzlejs.com/
	     *
	     * Copyright JS Foundation and other contributors
	     * Released under the MIT license
	     * https://js.foundation/
	     *
	     * Date: 2021-02-16
	     */
function(t){var e,n,i,r,s,o,a,l,c,u,p,h,f,d,m,g,v,b,y,x="sizzle"+1*new Date,w=t.document,T=0,k=0,q=lt(),C=lt(),E=lt(),O=lt(),_=function(t,e){return t===e&&(p=!0),0},S={}.hasOwnProperty,A=[],D=A.pop,j=A.push,L=A.push,N=A.slice,M=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",P="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Q="\\[[\\x20\\t\\r\\n\\f]*("+P+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+R+"*\\]",z=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Q+")*)|.*)\\)|)",F=new RegExp(R+"+","g"),B=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),$=new RegExp(R+"|>"),U=new RegExp(z),X=new RegExp("^"+P+"$"),K={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},V=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=function(){h()},ot=xt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{L.apply(A=N.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(t){L={apply:A.length?function(t,e){j.apply(t,N.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var s,a,c,u,p,d,v,b=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&(h(e),e=e||f,m)){if(11!==w&&(p=J.exec(t)))if(s=p[1]){if(9===w){if(!(c=e.getElementById(s)))return i;if(c.id===s)return i.push(c),i}else if(b&&(c=b.getElementById(s))&&y(e,c)&&c.id===s)return i.push(c),i}else{if(p[2])return L.apply(i,e.getElementsByTagName(t)),i;if((s=p[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!O[t+" "]&&(!g||!g.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,b=e,1===w&&($.test(t)||W.test(t))){for((b=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((u=e.getAttribute("id"))?u=u.replace(it,rt):e.setAttribute("id",u=x)),a=(d=o(t)).length;a--;)d[a]=(u?"#"+u:":scope")+" "+yt(d[a]);v=d.join(",")}try{return L.apply(i,b.querySelectorAll(v)),i}catch(e){O(t,!0)}finally{u===x&&e.removeAttribute("id")}}}return l(t.replace(B,"$1"),e,i,r)}function lt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ct(t){return t[x]=!0,t}function ut(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function pt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ht(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ct((function(e){return e=+e,ct((function(n,i){for(var r,s=t([],n.length,e),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!V.test(e||n&&n.nodeName||"HTML")},h=at.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:w;return o!=f&&9===o.nodeType&&o.documentElement?(d=(f=o).documentElement,m=!s(f),w!=f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",st,!1):r.attachEvent&&r.attachEvent("onunload",st)),n.scope=ut((function(t){return d.appendChild(t).appendChild(f.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ut((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(f.getElementsByClassName),n.getById=ut((function(t){return d.appendChild(t).id=x,!f.getElementsByName||!f.getElementsByName(x).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,i,r,s=e.getElementById(t);if(s){if((n=s.getAttributeNode("id"))&&n.value===t)return[s];for(r=e.getElementsByName(t),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=Z.test(f.querySelectorAll))&&(ut((function(t){var e;d.appendChild(t).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+I+")"),t.querySelectorAll("[id~="+x+"-]").length||g.push("~="),(e=f.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+x+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Z.test(b=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut((function(t){n.disconnectedMatch=b.call(t,"*"),b.call(t,"[s!='']:x"),v.push("!=",z)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=Z.test(d.compareDocumentPosition),y=e||Z.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},_=e?function(t,e){if(t===e)return p=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==f||t.ownerDocument==w&&y(w,t)?-1:e==f||e.ownerDocument==w&&y(w,e)?1:u?M(u,t)-M(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return p=!0,0;var n,i=0,r=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!r||!s)return t==f?-1:e==f?1:r?-1:s?1:u?M(u,t)-M(u,e):0;if(r===s)return ht(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;o[i]===a[i];)i++;return i?ht(o[i],a[i]):o[i]==w?-1:a[i]==w?1:0},f):f},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(h(t),n.matchesSelector&&m&&!O[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var i=b.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){O(e,!0)}return at(e,f,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=f&&h(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=f&&h(t);var r=i.attrHandle[e.toLowerCase()],s=r&&S.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==s?s:n.attributes||!m?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,s=0;if(p=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(_),p){for(;e=t[s++];)e===t[s]&&(r=i.push(s));for(;r--;)t.splice(i[r],1)}return u=null,t},r=at.getText=function(t){var e,n="",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=at.selectors={cacheLength:50,createPseudo:ct,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+R+"|$)"))&&q(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(F," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,p,h,f,d,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(g){if(s){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[o?g.firstChild:g.lastChild],o&&b){for(y=(f=(c=(u=(p=(h=g)[x]||(h[x]={}))[h.uniqueID]||(p[h.uniqueID]={}))[t]||[])[0]===T&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(y=f=0)||d.pop();)if(1===h.nodeType&&++y&&h===e){u[t]=[T,f,y];break}}else if(b&&(y=f=(c=(u=(p=(h=e)[x]||(h[x]={}))[h.uniqueID]||(p[h.uniqueID]={}))[t]||[])[0]===T&&c[1]),!1===y)for(;(h=++f&&h&&h[m]||(y=f=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((u=(p=h[x]||(h[x]={}))[h.uniqueID]||(p[h.uniqueID]={}))[t]=[T,y]),h!==e)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[x]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,n){for(var i,s=r(t,e),o=s.length;o--;)t[i=M(t,s[o])]=!(n[i]=s[o])})):function(t){return r(t,0,n)}):r}},pseudos:{not:ct((function(t){var e=[],n=[],i=a(t.replace(B,"$1"));return i[x]?ct((function(t,e,n,r){for(var s,o=i(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))})):function(t,r,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:ct((function(t){return function(e){return at(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ct((function(t){return X.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return Y.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function bt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function xt(t,e,n){var i=e.dir,r=e.next,s=r||i,o=n&&"parentNode"===s,a=k++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r);return!1}:function(e,n,l){var c,u,p,h=[T,a];if(l){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(u=(p=e[x]||(e[x]={}))[e.uniqueID]||(p[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[s])&&c[0]===T&&c[1]===a)return h[2]=c[2];if(u[s]=h,h[2]=t(e,n,l))return!0}return!1}}function wt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Tt(t,e,n,i,r){for(var s,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(n&&!n(s,i,r)||(o.push(s),c&&e.push(a)));return o}function kt(t,e,n,i,r,s){return i&&!i[x]&&(i=kt(i)),r&&!r[x]&&(r=kt(r,s)),ct((function(s,o,a,l){var c,u,p,h=[],f=[],d=o.length,m=s||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),g=!t||!s&&e?m:Tt(m,h,t,a,l),v=n?r||(s?t:d||i)?[]:o:g;if(n&&n(g,v,a,l),i)for(c=Tt(v,f),i(c,[],a,l),u=c.length;u--;)(p=c[u])&&(v[f[u]]=!(g[f[u]]=p));if(s){if(r||t){if(r){for(c=[],u=v.length;u--;)(p=v[u])&&c.push(g[u]=p);r(null,v=[],c,l)}for(u=v.length;u--;)(p=v[u])&&(c=r?M(s,p):h[u])>-1&&(s[c]=!(o[c]=p))}}else v=Tt(v===o?v.splice(d,v.length):v),r?r(null,o,v,l):L.apply(o,v)}))}function qt(t){for(var e,n,r,s=t.length,o=i.relative[t[0].type],a=o||i.relative[" "],l=o?1:0,u=xt((function(t){return t===e}),a,!0),p=xt((function(t){return M(e,t)>-1}),a,!0),h=[function(t,n,i){var r=!o&&(i||n!==c)||((e=n).nodeType?u(t,n,i):p(t,n,i));return e=null,r}];l<s;l++)if(n=i.relative[t[l].type])h=[xt(wt(h),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[x]){for(r=++l;r<s&&!i.relative[t[r].type];r++);return kt(l>1&&wt(h),l>1&&yt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&qt(t.slice(l,r)),r<s&&qt(t=t.slice(r)),r<s&&yt(t))}h.push(n)}return wt(h)}return bt.prototype=i.filters=i.pseudos,i.setFilters=new bt,o=at.tokenize=function(t,e){var n,r,s,o,a,l,c,u=C[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=i.preFilter;a;){for(o in n&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),i.filter)!(r=K[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):C(t,l).slice(0)},a=at.compile=function(t,e){var n,r=[],s=[],a=E[t+" "];if(!a){for(e||(e=o(t)),n=e.length;n--;)(a=qt(e[n]))[x]?r.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,r=t.length>0,s=function(s,o,a,l,u){var p,d,g,v=0,b="0",y=s&&[],x=[],w=c,k=s||r&&i.find.TAG("*",u),q=T+=null==w?1:Math.random()||.1,C=k.length;for(u&&(c=o==f||o||u);b!==C&&null!=(p=k[b]);b++){if(r&&p){for(d=0,o||p.ownerDocument==f||(h(p),a=!m);g=t[d++];)if(g(p,o||f,a)){l.push(p);break}u&&(T=q)}n&&((p=!g&&p)&&v--,s&&y.push(p))}if(v+=b,n&&b!==v){for(d=0;g=e[d++];)g(y,x,o,a);if(s){if(v>0)for(;b--;)y[b]||x[b]||(x[b]=D.call(l));x=Tt(x)}L.apply(l,x),u&&!s&&x.length>0&&v+e.length>1&&at.uniqueSort(l)}return u&&(T=q,c=w),y};return n?ct(s):s}(s,r))).selector=t}return a},l=at.select=function(t,e,n,r){var s,l,c,u,p,h="function"==typeof t&&t,f=!r&&o(t=h.selector||t);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&m&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=K.needsContext.test(t)?0:l.length;s--&&(c=l[s],!i.relative[u=c.type]);)if((p=i.find[u])&&(r=p(c.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(s,1),!(t=r.length&&yt(l)))return L.apply(n,r),n;break}}return(h||a(t,f))(r,e,!m,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=x.split("").sort(_).join("")===x,n.detectDuplicates=!!p,h(),n.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||pt("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||pt("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||pt(I,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);w.find=k,w.expr=k.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=k.uniqueSort,w.text=k.getText,w.isXMLDoc=k.isXML,w.contains=k.contains,w.escapeSelector=k.escape;var q=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i},C=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=w.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var _=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function S(t,e,n){return d(e)?w.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?w.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?w.grep(t,(function(t){return a.call(e,t)>-1!==n})):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,(function(t){return 1===t.nodeType})))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter((function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(S(this,t||[],!1))},not:function(t){return this.pushStack(S(this,t||[],!0))},is:function(t){return!!S(this,"string"==typeof t&&E.test(t)?w(t):t||[],!1).length}});var A,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||A,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),_.test(i[1])&&w.isPlainObject(e))for(i in e)d(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=g.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):d(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,A=w(g);var j=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,s=[],o="string"!=typeof t&&w(t);if(!E.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?w.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?a.call(w(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return q(t,"parentNode")},parentsUntil:function(t,e,n){return q(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return q(t,"nextSibling")},prevAll:function(t){return q(t,"previousSibling")},nextUntil:function(t,e,n){return q(t,"nextSibling",n)},prevUntil:function(t,e,n){return q(t,"previousSibling",n)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(O(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},(function(t,e){w.fn[t]=function(n,i){var r=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(L[t]||w.uniqueSort(r),j.test(t)&&r.reverse()),this.pushStack(r)}}));var M=/[^\x20\t\r\n\f]+/g;function I(t){return t}function R(t){throw t}function P(t,e,n,i){var r;try{t&&d(r=t.promise)?r.call(t).done(e).fail(n):t&&d(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(M)||[],(function(t,n){e[n]=!0})),e}(t):w.extend({},t);var e,n,i,r,s=[],o=[],a=-1,l=function(){for(r=r||t.once,i=e=!0;o.length;a=-1)for(n=o.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(a=s.length-1,o.push(n)),function e(n){w.each(n,(function(n,i){d(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==y(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return w.each(arguments,(function(t,e){for(var n;(n=w.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?w.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=o=[],n||e||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(e){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return w.Deferred((function(e){w.each(n,(function(n,i){var r=d(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&d(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,r){var s=0;function o(e,n,i,r){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<s)){if((t=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,d(c)?r?c.call(t,o(s,n,I,r),o(s,n,R,r)):(s++,c.call(t,o(s,n,I,r),o(s,n,R,r),o(s,n,I,n.notifyWith))):(i!==I&&(a=void 0,l=[t]),(r||n.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(t){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(t,u.stackTrace),e+1>=s&&(i!==R&&(a=void 0,l=[t]),n.rejectWith(a,l))}};e?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),t.setTimeout(u))}}return w.Deferred((function(t){n[0][3].add(o(0,t,d(r)?r:I,t.notifyWith)),n[1][3].add(o(0,t,d(e)?e:I)),n[2][3].add(o(0,t,d(i)?i:R))})).promise()},promise:function(t){return null!=t?w.extend(t,r):r}},s={};return w.each(n,(function(t,e){var o=e[2],a=e[5];r[e[1]]=o.add,a&&o.add((function(){i=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith})),r.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),s=r.call(arguments),o=w.Deferred(),a=function(t){return function(n){i[t]=this,s[t]=arguments.length>1?r.call(arguments):n,--e||o.resolveWith(i,s)}};if(e<=1&&(P(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||d(s[n]&&s[n].then)))return o.then();for(;n--;)P(s[n],a(n),o.reject);return o.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Q.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},w.readyException=function(e){t.setTimeout((function(){throw e}))};var z=w.Deferred();function F(){g.removeEventListener("DOMContentLoaded",F),t.removeEventListener("load",F),w.ready()}w.fn.ready=function(t){return z.then(t).catch((function(t){w.readyException(t)})),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||z.resolveWith(g,[w]))}}),w.ready.then=z.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",F),t.addEventListener("load",F));var B=function(t,e,n,i,r,s,o){var a=0,l=t.length,c=null==n;if("object"===y(n))for(a in r=!0,n)B(t,e,a,n[a],!0,s,o);else if(void 0!==i&&(r=!0,d(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(w(t),n)})),e))for(;a<l;a++)e(t[a],n,o?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):s},H=/^-ms-/,W=/-([a-z])/g;function $(t,e){return e.toUpperCase()}function U(t){return t.replace(H,"ms-").replace(W,$)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=w.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[U(e)]=n;else for(i in e)r[U(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][U(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(U):(e=U(e))in i?[e]:e.match(M)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var V=new K,Y=new K,G=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function J(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:G.test(t)?JSON.parse(t):t)}(n)}catch(t){}Y.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return Y.hasData(t)||V.hasData(t)},data:function(t,e,n){return Y.access(t,e,n)},removeData:function(t,e){Y.remove(t,e)},_data:function(t,e,n){return V.access(t,e,n)},_removeData:function(t,e){V.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=Y.get(s),1===s.nodeType&&!V.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=U(i.slice(5)),J(s,i,r[i]));V.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Y.set(this,t)})):B(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=Y.get(s,t))||void 0!==(n=J(s,t))?n:void 0;this.each((function(){Y.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Y.remove(this,t)}))}}),w.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=V.get(t,e),n&&(!i||Array.isArray(n)?i=V.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),i=n.length,r=n.shift(),s=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,(function(){w.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return V.get(t,n)||V.access(t,n,{empty:w.Callbacks("once memory").add((function(){V.remove(t,[e+"queue",n])}))})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each((function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){w.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=w.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=V.get(s[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],it=g.documentElement,rt=function(t){return w.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(rt=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var ot=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===w.css(t,"display")};function at(t,e,n,i){var r,s,o=20,a=i?function(){return i.cur()}:function(){return w.css(t,e,"")},l=a(),c=n&&n[3]||(w.cssNumber[e]?"":"px"),u=t.nodeType&&(w.cssNumber[e]||"px"!==c&&+l)&&et.exec(w.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)w.style(t,e,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),u/=s;u*=2,w.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var lt={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=lt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=w.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),lt[i]=r,r)}function ut(t,e){for(var n,i,r=[],s=0,o=t.length;s<o;s++)(i=t[s]).style&&(n=i.style.display,e?("none"===n&&(r[s]=V.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&ot(i)&&(r[s]=ct(i))):"none"!==n&&(r[s]="none",V.set(i,"display",n)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}w.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ot(this)?w(this).show():w(this).hide()}))}});var pt=/^(?:checkbox|radio)$/i,ht=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;!function(){var t=g.createDocumentFragment().appendChild(g.createElement("div")),e=g.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),f.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",f.option=!!t.lastChild}();var dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?w.merge([t],n):n}function gt(t,e){for(var n=0,i=t.length;n<i;n++)V.set(t[n],"globalEval",!e||V.get(e[n],"globalEval"))}dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td,f.option||(dt.optgroup=dt.option=[1,"<select multiple='multiple'>","</select>"]);var vt=/<|&#?\w+;/;function bt(t,e,n,i,r){for(var s,o,a,l,c,u,p=e.createDocumentFragment(),h=[],f=0,d=t.length;f<d;f++)if((s=t[f])||0===s)if("object"===y(s))w.merge(h,s.nodeType?[s]:s);else if(vt.test(s)){for(o=o||p.appendChild(e.createElement("div")),a=(ht.exec(s)||["",""])[1].toLowerCase(),l=dt[a]||dt._default,o.innerHTML=l[1]+w.htmlPrefilter(s)+l[2],u=l[0];u--;)o=o.lastChild;w.merge(h,o.childNodes),(o=p.firstChild).textContent=""}else h.push(e.createTextNode(s));for(p.textContent="",f=0;s=h[f++];)if(i&&w.inArray(s,i)>-1)r&&r.push(s);else if(c=rt(s),o=mt(p.appendChild(s),"script"),c&&gt(o),n)for(u=0;s=o[u++];)ft.test(s.type||"")&&n.push(s);return p}var yt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function wt(){return!1}function Tt(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==("focus"===e)}function kt(t,e,n,i,r,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)kt(t,a,n,i,e[a],s);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=wt;else if(!r)return t;return 1===s&&(o=r,(r=function(t){return w().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),t.each((function(){w.event.add(this,e,r,i,n)}))}function qt(t,e,n){n?(V.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var i,s,o=V.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=r.call(arguments),V.set(this,e,o),i=n(this,e),this[e](),o!==(s=V.get(this,e))||i?V.set(this,e,!1):s={},o!==s)return t.stopImmediatePropagation(),t.preventDefault(),s&&s.value}else o.length&&(V.set(this,e,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===V.get(t,e)&&w.event.add(t,e,xt)}w.event={global:{},add:function(t,e,n,i,r){var s,o,a,l,c,u,p,h,f,d,m,g=V.get(t);if(X(t))for(n.handler&&(n=(s=n).handler,r=s.selector),r&&w.find.matchesSelector(it,r),n.guid||(n.guid=w.guid++),(l=g.events)||(l=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(M)||[""]).length;c--;)f=m=(a=yt.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),f&&(p=w.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,p=w.event.special[f]||{},u=w.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:d.join(".")},s),(h=l[f])||((h=l[f]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(t,i,d,o)||t.addEventListener&&t.addEventListener(f,o)),p.add&&(p.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),w.event.global[f]=!0)},remove:function(t,e,n,i,r){var s,o,a,l,c,u,p,h,f,d,m,g=V.hasData(t)&&V.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(M)||[""]).length;c--;)if(f=m=(a=yt.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),f){for(p=w.event.special[f]||{},h=l[f=(i?p.delegateType:p.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)u=h[s],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,p.remove&&p.remove.call(t,u));o&&!h.length&&(p.teardown&&!1!==p.teardown.call(t,d,g.handle)||w.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)w.event.remove(t,f+e[c],n,i,!0);w.isEmptyObject(l)&&V.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,s,o,a=new Array(arguments.length),l=w.event.fix(t),c=(V.get(this,"events")||Object.create(null))[l.type]||[],u=w.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=w.event.handlers.call(this,l,c),e=0;(r=o[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(i=((w.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,s,o,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],o={},n=0;n<l;n++)void 0===o[r=(i=e[n]).selector+" "]&&(o[r]=i.needsContext?w(r,this).index(c)>-1:w.find(r,this,null,[c]).length),o[r]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:d(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&O(e,"input")&&qt(e,"click",xt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&O(e,"input")&&qt(e,"click"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&O(e,"input")&&V.get(e,"click")||O(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:wt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:wt,isPropagationStopped:wt,isImmediatePropagationStopped:wt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(t,e){w.event.special[t]={setup:function(){return qt(this,t,Tt),!1},trigger:function(){return qt(this,t),!0},_default:function(){return!0},delegateType:e}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===i||w.contains(i,r))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),w.fn.extend({on:function(t,e,n,i){return kt(this,t,e,n,i)},one:function(t,e,n,i){return kt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=wt),this.each((function(){w.event.remove(this,t,n,e)}))}});var Ct=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function _t(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function St(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function At(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Dt(t,e){var n,i,r,s,o,a;if(1===e.nodeType){if(V.hasData(t)&&(a=V.get(t).events))for(r in V.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)w.event.add(e,r,a[r][n]);Y.hasData(t)&&(s=Y.access(t),o=w.extend({},s),Y.set(e,o))}}function jt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&pt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Lt(t,e,n,i){e=s(e);var r,o,a,l,c,u,p=0,h=t.length,m=h-1,g=e[0],v=d(g);if(v||h>1&&"string"==typeof g&&!f.checkClone&&Et.test(g))return t.each((function(r){var s=t.eq(r);v&&(e[0]=g.call(this,r,s.html())),Lt(s,e,n,i)}));if(h&&(o=(r=bt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(l=(a=w.map(mt(r,"script"),St)).length;p<h;p++)c=r,p!==m&&(c=w.clone(c,!0,!0),l&&w.merge(a,mt(c,"script"))),n.call(t[p],c,p);if(l)for(u=a[a.length-1].ownerDocument,w.map(a,At),p=0;p<l;p++)c=a[p],ft.test(c.type||"")&&!V.access(c,"globalEval")&&w.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):b(c.textContent.replace(Ot,""),c,u))}return t}function Nt(t,e,n){for(var i,r=e?w.filter(e,t):t,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||w.cleanData(mt(i)),i.parentNode&&(n&&rt(i)&&gt(mt(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,s,o,a=t.cloneNode(!0),l=rt(t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(o=mt(a),i=0,r=(s=mt(t)).length;i<r;i++)jt(s[i],o[i]);if(e)if(n)for(s=s||mt(t),o=o||mt(a),i=0,r=s.length;i<r;i++)Dt(s[i],o[i]);else Dt(t,a);return(o=mt(a,"script")).length>0&&gt(o,!l&&mt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=w.event.special,s=0;void 0!==(n=t[s]);s++)if(X(n)){if(e=n[V.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[V.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return B(this,(function(t){return void 0===t?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Lt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_t(this,t).appendChild(t)}))},prepend:function(){return Lt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_t(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Lt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Lt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return w.clone(this,t,e)}))},html:function(t){return B(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ct.test(t)&&!dt[(ht.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Lt(this,arguments,(function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(mt(this)),n&&n.replaceChild(e,this))}),t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){w.fn[t]=function(t){for(var n,i=[],r=w(t),s=r.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),w(r[a])[e](n),o.apply(i,n.get());return this.pushStack(i)}}));var Mt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),It=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Rt=function(t,e,n){var i,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=s[r];return i},Pt=new RegExp(nt.join("|"),"i");function Qt(t,e,n){var i,r,s,o,a=t.style;return(n=n||It(t))&&(""!==(o=n.getPropertyValue(e)||n[e])||rt(t)||(o=w.style(t,e)),!f.pixelBoxStyles()&&Mt.test(o)&&Pt.test(e)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(c).appendChild(u);var e=t.getComputedStyle(u);i="1%"!==e.top,l=12===n(e.marginLeft),u.style.right="60%",o=36===n(e.right),r=36===n(e.width),u.style.position="absolute",s=12===n(u.offsetWidth/3),it.removeChild(c),u=null}}function n(t){return Math.round(parseFloat(t))}var i,r,s,o,a,l,c=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(f,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,i,r;return null==a&&(e=g.createElement("table"),n=g.createElement("tr"),i=g.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",it.appendChild(e).appendChild(n).appendChild(i),r=t.getComputedStyle(n),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,it.removeChild(e)),a}}))}();var Ft=["Webkit","Moz","ms"],Bt=g.createElement("div").style,Ht={};function Wt(t){var e=w.cssProps[t]||Ht[t];return e||(t in Bt?t:Ht[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ft.length;n--;)if((t=Ft[n]+e)in Bt)return t}(t)||t)}var $t=/^(none|table(?!-c[ea]).+)/,Ut=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"};function Vt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Yt(t,e,n,i,r,s){var o="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=w.css(t,n+nt[o],!0,r)),i?("content"===n&&(l-=w.css(t,"padding"+nt[o],!0,r)),"margin"!==n&&(l-=w.css(t,"border"+nt[o]+"Width",!0,r))):(l+=w.css(t,"padding"+nt[o],!0,r),"padding"!==n?l+=w.css(t,"border"+nt[o]+"Width",!0,r):a+=w.css(t,"border"+nt[o]+"Width",!0,r));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))||0),l}function Gt(t,e,n){var i=It(t),r=(!f.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,i),s=r,o=Qt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Mt.test(o)){if(!n)return o;o="auto"}return(!f.boxSizingReliable()&&r||!f.reliableTrDimensions()&&O(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===w.css(t,"boxSizing",!1,i),(s=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+Yt(t,e,n||(r?"border":"content"),s,i,o)+"px"}function Zt(t,e,n,i,r){return new Zt.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=U(e),l=Ut.test(e),c=t.style;if(l||(e=Wt(a)),o=w.cssHooks[e]||w.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:c[e];"string"==(s=typeof n)&&(r=et.exec(n))&&r[1]&&(n=at(t,e,r),s="number"),null!=n&&n==n&&("number"!==s||l||(n+=r&&r[3]||(w.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,s,o,a=U(e);return Ut.test(e)||(e=Wt(a)),(o=w.cssHooks[e]||w.cssHooks[a])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Qt(t,e,i)),"normal"===r&&e in Kt&&(r=Kt[e]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),w.each(["height","width"],(function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!$t.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Gt(t,e,i):Rt(t,Xt,(function(){return Gt(t,e,i)}))},set:function(t,n,i){var r,s=It(t),o=!f.scrollboxSize()&&"absolute"===s.position,a=(o||i)&&"border-box"===w.css(t,"boxSizing",!1,s),l=i?Yt(t,e,i,a,s):0;return a&&o&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-Yt(t,e,"border",!1,s)-.5)),l&&(r=et.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),Vt(0,n,l)}}})),w.cssHooks.marginLeft=zt(f.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Qt(t,"marginLeft"))||t.getBoundingClientRect().left-Rt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+nt[i]+e]=s[i]||s[i-2]||s[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=Vt)})),w.fn.extend({css:function(t,e){return B(this,(function(t,e,n){var i,r,s={},o=0;if(Array.isArray(e)){for(i=It(t),r=e.length;o<r;o++)s[e[o]]=w.css(t,e[o],!1,i);return s}return void 0!==n?w.style(t,e,n):w.css(t,e)}),t,e,arguments.length>1)}}),w.Tween=Zt,Zt.prototype={constructor:Zt,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var t=Zt.propHooks[this.prop];return t&&t.get?t.get(this):Zt.propHooks._default.get(this)},run:function(t){var e,n=Zt.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Zt.propHooks._default.set(this),this}},Zt.prototype.init.prototype=Zt.prototype,Zt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[Wt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},Zt.propHooks.scrollTop=Zt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=Zt.prototype.init,w.fx.step={};var Jt,te,ee,ne,ie=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function se(){te&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(se):t.setTimeout(se,w.fx.interval),w.fx.tick())}function oe(){return t.setTimeout((function(){Jt=void 0})),Jt=Date.now()}function ae(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=nt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),s=0,o=r.length;s<o;s++)if(i=r[s].call(n,e,t))return i}function ce(t,e,n){var i,r,s=0,o=ce.prefilters.length,a=w.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=Jt||oe(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),s=0,o=c.tweens.length;s<o;s++)c.tweens[s].run(i);return a.notifyWith(t,[c,i,n]),i<1&&o?n:(o||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:Jt||oe(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,r,s,o;for(n in t)if(r=e[i=U(n)],s=t[n],Array.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(o=w.cssHooks[i])&&"expand"in o)for(n in s=o.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);s<o;s++)if(i=ce.prefilters[s].call(c,t,u,c.opts))return d(i.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return w.map(u,le,c),d(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){d(t)?(e=t,t=["*"]):t=t.match(M);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,s,o,a,l,c,u,p="width"in e||"height"in e,h=this,f={},d=t.style,m=t.nodeType&&ot(t),g=V.get(t,"fxshow");for(i in n.queue||(null==(o=w._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,h.always((function(){h.always((function(){o.unqueued--,w.queue(t,"fx").length||o.empty.fire()}))}))),e)if(r=e[i],ie.test(r)){if(delete e[i],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||w.style(t,i)}if((l=!w.isEmptyObject(e))||!w.isEmptyObject(f))for(i in p&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=g&&g.display)&&(c=V.get(t,"display")),"none"===(u=w.css(t,"display"))&&(c?u=c:(ut([t],!0),c=t.style.display||c,u=w.css(t,"display"),ut([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===w.css(t,"float")&&(l||(h.done((function(){d.display=c})),null==c&&(u=d.display,c="none"===u?"":u)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=V.access(t,"fxshow",{display:c}),s&&(g.hidden=!m),m&&ut([t],!0),h.done((function(){for(i in m||ut([t]),V.remove(t,"fxshow"),f)w.style(t,i,f[i])}))),l=le(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||d(t)&&t,duration:t,easing:n&&e||e&&!d(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){d(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=w.isEmptyObject(t),s=w.speed(e,n,i),o=function(){var e=ce(this,w.extend({},t),s);(r||V.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",s=w.timers,o=V.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&re.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(n),e=!1,s.splice(r,1));!e&&n||w.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=V.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=w.timers,o=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ae(e,!0),t,i,r)}})),w.each({slideDown:ae("show"),slideUp:ae("hide"),slideToggle:ae("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(Jt=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),Jt=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){te||(te=!0,se())},w.fx.stop=function(){te=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,n){return e=w.fx&&w.fx.speeds[e]||e,n=n||"fx",this.queue(n,(function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}}))},ee=g.createElement("input"),ne=g.createElement("select").appendChild(g.createElement("option")),ee.type="checkbox",f.checkOn=""!==ee.value,f.optSelected=ne.selected,(ee=g.createElement("input")).value="t",ee.type="radio",f.radioValue="t"===ee.value;var ue,pe=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return B(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){w.removeAttr(this,t)}))}}),w.extend({attr:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?w.prop(t,e,n):(1===s&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&O(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(M);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=pe[e]||w.find.attr;pe[e]=function(t,e,i){var r,s,o=e.toLowerCase();return i||(s=pe[o],pe[o]=r,r=null!=n(t,e,i)?o:null,pe[o]=s),r}}));var he=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function de(t){return(t.match(M)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ge(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(M)||[]}w.fn.extend({prop:function(t,e){return B(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[w.propFix[t]||t]}))}}),w.extend({prop:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(t)||(e=w.propFix[e]||e,r=w.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):he.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(t){var e,n,i,r,s,o,a,l=0;if(d(t))return this.each((function(e){w(this).addClass(t.call(this,e,me(this)))}));if((e=ge(t)).length)for(;n=this[l++];)if(r=me(n),i=1===n.nodeType&&" "+de(r)+" "){for(o=0;s=e[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");r!==(a=de(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,s,o,a,l=0;if(d(t))return this.each((function(e){w(this).removeClass(t.call(this,e,me(this)))}));if(!arguments.length)return this.attr("class","");if((e=ge(t)).length)for(;n=this[l++];)if(r=me(n),i=1===n.nodeType&&" "+de(r)+" "){for(o=0;s=e[o++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");r!==(a=de(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):d(t)?this.each((function(n){w(this).toggleClass(t.call(this,n,me(this),e),e)})):this.each((function(){var e,r,s,o;if(i)for(r=0,s=w(this),o=ge(t);e=o[r++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==n||((e=me(this))&&V.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":V.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+de(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var ve=/\r/g;w.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=d(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,(function(t){return null==t?"":t+""}))),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ve,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:de(w.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],l=o?s+1:r.length;for(i=s<0?l:o?s:0;i<l;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(e=w(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,s=w.makeArray(e),o=r.length;o--;)((i=r[o]).selected=w.inArray(w.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},f.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),f.focusin="onfocusin"in t;var be=/^(?:focusinfocus|focusoutblur)$/,ye=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(e,n,i,r){var s,o,a,l,c,p,h,f,v=[i||g],b=u.call(e,"type")?e.type:e,y=u.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!be.test(b+w.event.triggered)&&(b.indexOf(".")>-1&&(y=b.split("."),b=y.shift(),y.sort()),c=b.indexOf(":")<0&&"on"+b,(e=e[w.expando]?e:new w.Event(b,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:w.makeArray(n,[e]),h=w.event.special[b]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!m(i)){for(l=h.delegateType||b,be.test(l+b)||(o=o.parentNode);o;o=o.parentNode)v.push(o),a=o;a===(i.ownerDocument||g)&&v.push(a.defaultView||a.parentWindow||t)}for(s=0;(o=v[s++])&&!e.isPropagationStopped();)f=o,e.type=s>1?l:h.bindType||b,(p=(V.get(o,"events")||Object.create(null))[e.type]&&V.get(o,"handle"))&&p.apply(o,n),(p=c&&o[c])&&p.apply&&X(o)&&(e.result=p.apply(o,n),!1===e.result&&e.preventDefault());return e.type=b,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),n)||!X(i)||c&&d(i[b])&&!m(i)&&((a=i[c])&&(i[c]=null),w.event.triggered=b,e.isPropagationStopped()&&f.addEventListener(b,ye),i[b](),e.isPropagationStopped()&&f.removeEventListener(b,ye),w.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each((function(){w.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),f.focusin||w.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=V.access(i,e);r||i.addEventListener(t,n,!0),V.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=V.access(i,e)-1;r?V.access(i,e,r):(i.removeEventListener(t,n,!0),V.remove(i,e))}}}));var xe=t.location,we={guid:Date.now()},Te=/\?/;w.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||w.error("Invalid XML: "+(i?w.map(i.childNodes,(function(t){return t.textContent})).join("\n"):e)),n};var ke=/\[\]$/,qe=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;function Oe(t,e,n,i){var r;if(Array.isArray(e))w.each(e,(function(e,r){n||ke.test(t)?i(t,r):Oe(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==y(e))i(t,e);else for(r in e)Oe(t+"["+r+"]",e[r],n,i)}w.param=function(t,e){var n,i=[],r=function(t,e){var n=d(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,(function(){r(this.name,this.value)}));else for(n in t)Oe(n,t[n],e,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Ee.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(t){return{name:e.name,value:t.replace(qe,"\r\n")}})):{name:e.name,value:n.replace(qe,"\r\n")}})).get()}});var _e=/%20/g,Se=/#.*$/,Ae=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Le=/^\/\//,Ne={},Me={},Ie="*/".concat("*"),Re=g.createElement("a");function Pe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(M)||[];if(d(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Qe(t,e,n,i){var r={},s=t===Me;function o(a){var l;return r[a]=!0,w.each(t[a]||[],(function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)})),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function ze(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}Re.href=xe.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,w.ajaxSettings),e):ze(w.ajaxSettings,t)},ajaxPrefilter:Pe(Ne),ajaxTransport:Pe(Me),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,r,s,o,a,l,c,u,p,h,f=w.ajaxSetup({},n),d=f.context||f,m=f.context&&(d.nodeType||d.jquery)?w(d):w.event,v=w.Deferred(),b=w.Callbacks("once memory"),y=f.statusCode||{},x={},T={},k="canceled",q={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o)for(o={};e=De.exec(s);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=T[t.toLowerCase()]=T[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)q.always(t[q.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||k;return i&&i.abort(e),C(0,e),this}};if(v.promise(q),f.url=((e||f.url||xe.href)+"").replace(Le,xe.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(M)||[""],null==f.crossDomain){l=g.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Re.protocol+"//"+Re.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),Qe(Ne,f,n,q),c)return q;for(p in(u=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!je.test(f.type),r=f.url.replace(Se,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(_e,"+")):(h=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Te.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ae,"$1"),h=(Te.test(r)?"&":"?")+"_="+we.guid+++h),f.url=r+h),f.ifModified&&(w.lastModified[r]&&q.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&q.setRequestHeader("If-None-Match",w.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&q.setRequestHeader("Content-Type",f.contentType),q.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ie+"; q=0.01":""):f.accepts["*"]),f.headers)q.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(d,q,f)||c))return q.abort();if(k="abort",b.add(f.complete),q.done(f.success),q.fail(f.error),i=Qe(Me,f,n,q)){if(q.readyState=1,u&&m.trigger("ajaxSend",[q,f]),c)return q;f.async&&f.timeout>0&&(a=t.setTimeout((function(){q.abort("timeout")}),f.timeout));try{c=!1,i.send(x,C)}catch(t){if(c)throw t;C(-1,t)}}else C(-1,"No Transport");function C(e,n,o,l){var p,h,g,x,T,k=n;c||(c=!0,a&&t.clearTimeout(a),i=void 0,s=l||"",q.readyState=e>0?4:0,p=e>=200&&e<300||304===e,o&&(x=function(t,e,n){for(var i,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),n[s]}(f,q,o)),!p&&w.inArray("script",f.dataTypes)>-1&&w.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),x=function(t,e,n,i){var r,s,o,a,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(r in c)if((a=r.split(" "))[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(f,x,q,p),p?(f.ifModified&&((T=q.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=T),(T=q.getResponseHeader("etag"))&&(w.etag[r]=T)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=x.state,h=x.data,p=!(g=x.error))):(g=k,!e&&k||(k="error",e<0&&(e=0))),q.status=e,q.statusText=(n||k)+"",p?v.resolveWith(d,[h,k,q]):v.rejectWith(d,[q,k,g]),q.statusCode(y),y=void 0,u&&m.trigger(p?"ajaxSuccess":"ajaxError",[q,f,p?h:g]),b.fireWith(d,[q,k]),u&&(m.trigger("ajaxComplete",[q,f]),--w.active||w.event.trigger("ajaxStop")))}return q},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],(function(t,e){w[e]=function(t,n,i,r){return d(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:n,success:i},w.isPlainObject(t)&&t))}})),w.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),w._evalUrl=function(t,e,n){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,n)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(d(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return d(t)?this.each((function(e){w(this).wrapInner(t.call(this,e))})):this.each((function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=d(t);return this.each((function(n){w(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Fe={0:200,1223:204},Be=w.ajaxSettings.xhr();f.cors=!!Be&&"withCredentials"in Be,f.ajax=Be=!!Be,w.ajaxTransport((function(e){var n,i;if(f.cors||Be&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Fe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),w.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),w.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var He,We=[],$e=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||w.expando+"_"+we.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",(function(e,n,i){var r,s,o,a=!1!==e.jsonp&&($e.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=d(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($e,"$1"+r):!1!==e.jsonp&&(e.url+=(Te.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||w.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},i.always((function(){void 0===s?w(t).removeProp(r):t[r]=s,e[r]&&(e.jsonpCallback=n.jsonpCallback,We.push(r)),o&&d(s)&&s(o[0]),o=s=void 0})),"script"})),f.createHTMLDocument=((He=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===He.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(f.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,e.head.appendChild(i)):e=g),s=!n&&[],(r=_.exec(t))?[e.createElement(r[1])]:(r=bt([t],e,s),s&&s.length&&w(s).remove(),w.merge([],r.childNodes)));var i,r,s},w.fn.load=function(t,e,n){var i,r,s,o=this,a=t.indexOf(" ");return a>-1&&(i=de(t.slice(a)),t=t.slice(0,a)),d(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){s=arguments,o.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)})).always(n&&function(t,e){o.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,(function(e){return t===e.elem})).length},w.offset={setOffset:function(t,e,n){var i,r,s,o,a,l,c=w.css(t,"position"),u=w(t),p={};"static"===c&&(t.style.position="relative"),a=u.offset(),s=w.css(t,"top"),l=w.css(t,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),d(e)&&(e=e.call(t,n,w.extend({},a))),null!=e.top&&(p.top=e.top-a.top+o),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):u.css(p)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){w.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||it}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return B(this,(function(t,i,r){var s;if(m(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):t[i]=r}),t,i,arguments.length)}})),w.each(["top","left"],(function(t,e){w.cssHooks[e]=zt(f.pixelPosition,(function(t,n){if(n)return n=Qt(t,e),Mt.test(n)?w(t).position()[e]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){w.fn[i]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===s?"margin":"border");return B(this,(function(e,n,r){var s;return m(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?w.css(e,n,a):w.style(e,n,r,a)}),e,o?r:void 0,o)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){w.fn[e]=function(t){return this.on(e,t)}})),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ue=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var n,i,s;if("string"==typeof e&&(n=t[e],e=t,t=n),d(t))return i=r.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(r.call(arguments)))}).guid=t.guid=t.guid||w.guid++,s},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=O,w.isFunction=d,w.isWindow=m,w.camelCase=U,w.type=y,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace(Ue,"")};var Xe=t.jQuery,Ke=t.$;return w.noConflict=function(e){return t.$===w&&(t.$=Ke),e&&t.jQuery===w&&(t.jQuery=Xe),w},void 0===e&&(t.jQuery=t.$=w),w}));var i=n.exports,r={exports:{}};
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */
!function(t,e){t.exports=function(){function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i,r="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign,s=["","webkit","Moz","MS","ms","o"],o="undefined"==typeof document?{style:{}}:document.createElement("div"),a="function",l=Math.round,c=Math.abs,u=Date.now;function p(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<s.length;){if((i=(n=s[o])?n+r:e)in t)return i;o++}}i="undefined"==typeof window?{}:window;var h=p(o.style,"touchAction"),f=void 0!==h;function d(){if(!f)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||i.CSS.supports("touch-action",n)})),t}var m="compute",g="auto",v="manipulation",b="none",y="pan-x",x="pan-y",w=d(),T=/mobile|tablet|ip(ad|hone|od)|android/i,k="ontouchstart"in i,q=void 0!==p(i,"PointerEvent"),C=k&&T.test(navigator.userAgent),E="touch",O="pen",_="mouse",S="kinect",A=25,D=1,j=2,L=4,N=8,M=1,I=2,R=4,P=8,Q=16,z=I|R,F=P|Q,B=z|F,H=["x","y"],W=["clientX","clientY"];function $(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function U(t,e){return typeof t===a?t.apply(e&&e[0]||void 0,e):t}function X(t,e){return t.indexOf(e)>-1}function K(t){if(X(t,b))return b;var e=X(t,y),n=X(t,x);return e&&n?b:e||n?e?y:x:X(t,v)?v:g}var V=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===m&&(t=this.compute()),f&&this.manager.element.style&&w[t]&&(this.manager.element.style[h]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return $(this.manager.recognizers,(function(e){U(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),K(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=X(i,b)&&!w[b],s=X(i,x)&&!w[x],o=X(i,y)&&!w[y];if(r){var a=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(a&&l&&c)return}if(!o||!s)return r||s&&n&z||o&&n&F?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Y(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function G(t){var e=t.length;if(1===e)return{x:l(t[0].clientX),y:l(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:l(n/e),y:l(i/e)}}function Z(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:l(t.pointers[n].clientX),clientY:l(t.pointers[n].clientY)},n++;return{timeStamp:u(),pointers:e,center:G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function J(t,e,n){n||(n=H);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function tt(t,e,n){n||(n=H);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function et(t,e){return t===e?M:c(t)>=c(e)?t<0?I:R:e<0?P:Q}function nt(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==D&&s.eventType!==L||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function it(t,e,n){return{x:e/t||0,y:n/t||0}}function rt(t,e){return J(e[0],e[1],W)/J(t[0],t[1],W)}function st(t,e){return tt(e[1],e[0],W)+tt(t[1],t[0],W)}function ot(t,e){var n,i,r,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(e.eventType!==N&&(a>A||void 0===o.velocity)){var l=e.deltaX-o.deltaX,u=e.deltaY-o.deltaY,p=it(a,l,u);i=p.x,r=p.y,n=c(p.x)>c(p.y)?p.x:p.y,s=et(l,u),t.lastInterval=e}else n=o.velocity,i=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=s}function at(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=Z(e)),r>1&&!n.firstMultiple?n.firstMultiple=Z(e):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,l=e.center=G(i);e.timeStamp=u(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=tt(a,l),e.distance=J(a,l),nt(n,e),e.offsetDirection=et(e.deltaX,e.deltaY);var p=it(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=p.x,e.overallVelocityY=p.y,e.overallVelocity=c(p.x)>c(p.y)?p.x:p.y,e.scale=o?rt(o.pointers,i):1,e.rotation=o?st(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,ot(n,e);var h,f=t.element,d=e.srcEvent;Y(h=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,f)&&(f=h),e.target=f}function lt(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,s=e&D&&i-r==0,o=e&(L|N)&&i-r==0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,at(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function ct(t){return t.trim().split(/\s+/g)}function ut(t,e,n){$(ct(e),(function(e){t.addEventListener(e,n,!1)}))}function pt(t,e,n){$(ct(e),(function(e){t.removeEventListener(e,n,!1)}))}function ht(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var ft=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){U(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ut(this.element,this.evEl,this.domHandler),this.evTarget&&ut(this.target,this.evTarget,this.domHandler),this.evWin&&ut(ht(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&pt(this.element,this.evEl,this.domHandler),this.evTarget&&pt(this.target,this.evTarget,this.domHandler),this.evWin&&pt(ht(this.element),this.evWin,this.domHandler)},t}();function dt(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var mt={pointerdown:D,pointermove:j,pointerup:L,pointercancel:N,pointerout:N},gt={2:E,3:O,4:_,5:S},vt="pointerdown",bt="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&(vt="MSPointerDown",bt="MSPointerMove MSPointerUp MSPointerCancel");var yt=function(t){function n(){var e,i=n.prototype;return i.evEl=vt,i.evWin=bt,(e=t.apply(this,arguments)||this).store=e.manager.session.pointerEvents=[],e}return e(n,t),n.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=mt[i],s=gt[t.pointerType]||t.pointerType,o=s===E,a=dt(e,t.pointerId,"pointerId");r&D&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):r&(L|N)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))},n}(ft);function xt(t){return Array.prototype.slice.call(t,0)}function wt(t,e,n){for(var i=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];dt(r,o)<0&&i.push(t[s]),r[s]=o,s++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var Tt={touchstart:D,touchmove:j,touchend:L,touchcancel:N},kt="touchstart touchmove touchend touchcancel",qt=function(t){function n(){var e;return n.prototype.evTarget=kt,(e=t.apply(this,arguments)||this).targetIds={},e}return e(n,t),n.prototype.handler=function(t){var e=Tt[t.type],n=Ct.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:E,srcEvent:t})},n}(ft);function Ct(t,e){var n,i,r=xt(t.touches),s=this.targetIds;if(e&(D|j)&&1===r.length)return s[r[0].identifier]=!0,[r,r];var o=xt(t.changedTouches),a=[],l=this.target;if(i=r.filter((function(t){return Y(t.target,l)})),e===D)for(n=0;n<i.length;)s[i[n].identifier]=!0,n++;for(n=0;n<o.length;)s[o[n].identifier]&&a.push(o[n]),e&(L|N)&&delete s[o[n].identifier],n++;return a.length?[wt(i.concat(a),"identifier",!0),a]:void 0}var Et={mousedown:D,mousemove:j,mouseup:L},Ot="mousedown",_t="mousemove mouseup",St=function(t){function n(){var e,i=n.prototype;return i.evEl=Ot,i.evWin=_t,(e=t.apply(this,arguments)||this).pressed=!1,e}return e(n,t),n.prototype.handler=function(t){var e=Et[t.type];e&D&&0===t.button&&(this.pressed=!0),e&j&&1!==t.which&&(e=L),this.pressed&&(e&L&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:_,srcEvent:t}))},n}(ft),At=2500,Dt=25;function jt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),At)}}function Lt(t,e){t&D?(this.primaryTouch=e.changedPointers[0].identifier,jt.call(this,e)):t&(L|N)&&jt.call(this,e)}function Nt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(e-r.x),o=Math.abs(n-r.y);if(s<=Dt&&o<=Dt)return!0}return!1}var Mt=function(){return function(t){function i(e,i){var r;return(r=t.call(this,e,i)||this).handler=function(t,e,i){var s=i.pointerType===E,o=i.pointerType===_;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(s)Lt.call(n(n(r)),e,i);else if(o&&Nt.call(n(n(r)),i))return;r.callback(t,e,i)}},r.touch=new qt(r.manager,r.handler),r.mouse=new St(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return e(i,t),i.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},i}(ft)}();function It(t){var e=t.options.inputClass;return new(e||(q?yt:C?qt:k?Mt:St))(t,lt)}function Rt(t,e,n){return!!Array.isArray(t)&&($(t,n[e],n),!0)}var Pt=1,Qt=2,zt=4,Ft=8,Bt=Ft,Ht=16,Wt=32,$t=1;function Ut(){return $t++}function Xt(t,e){var n=e.manager;return n?n.get(t):t}function Kt(t){return t&Ht?"cancel":t&Ft?"end":t&zt?"move":t&Qt?"start":""}var Vt=function(){function e(e){void 0===e&&(e={}),this.options=t({enable:!0},e),this.id=Ut(),this.manager=null,this.state=Pt,this.simultaneous={},this.requireFail=[]}var n=e.prototype;return n.set=function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},n.recognizeWith=function(t){if(Rt(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},n.dropRecognizeWith=function(t){return Rt(t,"dropRecognizeWith",this)||(t=Xt(t,this),delete this.simultaneous[t.id]),this},n.requireFailure=function(t){if(Rt(t,"requireFailure",this))return this;var e=this.requireFail;return-1===dt(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},n.dropRequireFailure=function(t){if(Rt(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=dt(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},n.hasRequireFailures=function(){return this.requireFail.length>0},n.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},n.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<Ft&&i(e.options.event+Kt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=Ft&&i(e.options.event+Kt(n))},n.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Wt},n.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Wt|Pt)))return!1;t++}return!0},n.recognize=function(t){var e=r({},t);if(!U(this.options.enable,[this,e]))return this.reset(),void(this.state=Wt);this.state&(Bt|Ht|Wt)&&(this.state=Pt),this.state=this.process(e),this.state&(Qt|zt|Ft|Ht)&&this.tryEmit(e)},n.process=function(t){},n.getTouchAction=function(){},n.reset=function(){},e}(),Yt=function(n){function i(e){var i;return void 0===e&&(e={}),(i=n.call(this,t({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}e(i,n);var r=i.prototype;return r.getTouchAction=function(){return[v]},r.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,s=t.deltaTime<n.time;if(this.reset(),t.eventType&D&&0===this.count)return this.failTimeout();if(r&&s&&i){if(t.eventType!==L)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||J(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=Bt,e.tryEmit()}),n.interval),Qt):Bt}return Wt},r.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Wt}),this.options.interval),Wt},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Bt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},i}(Vt),Gt=function(n){function i(e){return void 0===e&&(e={}),n.call(this,t({pointers:1},e))||this}e(i,n);var r=i.prototype;return r.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},r.process=function(t){var e=this.state,n=t.eventType,i=e&(Qt|zt),r=this.attrTest(t);return i&&(n&N||!r)?e|Ht:i||r?n&L?e|Ft:e&Qt?e|zt:Qt:Wt},i}(Vt);function Zt(t){return t===Q?"down":t===P?"up":t===I?"left":t===R?"right":""}var Jt=function(n){function i(e){var i;return void 0===e&&(e={}),(i=n.call(this,t({event:"pan",threshold:10,pointers:1,direction:B},e))||this).pX=null,i.pY=null,i}e(i,n);var r=i.prototype;return r.getTouchAction=function(){var t=this.options.direction,e=[];return t&z&&e.push(x),t&F&&e.push(y),e},r.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&z?(r=0===s?M:s<0?I:R,n=s!==this.pX,i=Math.abs(t.deltaX)):(r=0===o?M:o<0?P:Q,n=o!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},r.attrTest=function(t){return Gt.prototype.attrTest.call(this,t)&&(this.state&Qt||!(this.state&Qt)&&this.directionTest(t))},r.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Zt(t.direction);e&&(t.additionalEvent=this.options.event+e),n.prototype.emit.call(this,t)},i}(Gt),te=function(n){function i(e){return void 0===e&&(e={}),n.call(this,t({event:"swipe",threshold:10,velocity:.3,direction:z|F,pointers:1},e))||this}e(i,n);var r=i.prototype;return r.getTouchAction=function(){return Jt.prototype.getTouchAction.call(this)},r.attrTest=function(t){var e,i=this.options.direction;return i&(z|F)?e=t.overallVelocity:i&z?e=t.overallVelocityX:i&F&&(e=t.overallVelocityY),n.prototype.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&c(e)>this.options.velocity&&t.eventType&L},r.emit=function(t){var e=Zt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},i}(Gt),ee=function(n){function i(e){return void 0===e&&(e={}),n.call(this,t({event:"pinch",threshold:0,pointers:2},e))||this}e(i,n);var r=i.prototype;return r.getTouchAction=function(){return[b]},r.attrTest=function(t){return n.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Qt)},r.emit=function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}n.prototype.emit.call(this,t)},i}(Gt),ne=function(n){function i(e){return void 0===e&&(e={}),n.call(this,t({event:"rotate",threshold:0,pointers:2},e))||this}e(i,n);var r=i.prototype;return r.getTouchAction=function(){return[b]},r.attrTest=function(t){return n.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Qt)},i}(Gt),ie=function(n){function i(e){var i;return void 0===e&&(e={}),(i=n.call(this,t({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}e(i,n);var r=i.prototype;return r.getTouchAction=function(){return[g]},r.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,s=t.deltaTime>n.time;if(this._input=t,!r||!i||t.eventType&(L|N)&&!s)this.reset();else if(t.eventType&D)this.reset(),this._timer=setTimeout((function(){e.state=Bt,e.tryEmit()}),n.time);else if(t.eventType&L)return Bt;return Wt},r.reset=function(){clearTimeout(this._timer)},r.emit=function(t){this.state===Bt&&(t&&t.eventType&L?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))},i}(Vt),re={domEvents:!1,touchAction:m,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},se=[[ne,{enable:!1}],[ee,{enable:!1},["rotate"]],[te,{direction:z}],[Jt,{direction:z},["swipe"]],[Yt],[Yt,{event:"doubletap",taps:2},["tap"]],[ie]],oe=1,ae=2;function le(t,e){var n,i=t.element;i.style&&($(t.options.cssProps,(function(r,s){n=p(i.style,s),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}function ce(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ue=function(){function t(t,e){var n=this;this.options=r({},re,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=It(this),this.touchAction=new V(this,this.options.touchAction),le(this,!0),$(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return r(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?ae:oe},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Bt)&&(e.curRecognizer=null,r=null);for(var s=0;s<i.length;)n=i[s],e.stopped===ae||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(Qt|zt|Ft)&&(e.curRecognizer=n,r=n),s++}},e.get=function(t){if(t instanceof Vt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(Rt(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Rt(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=dt(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return $(ct(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return $(ct(t),(function(t){e?n[t]&&n[t].splice(dt(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&ce(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&le(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),pe={touchstart:D,touchmove:j,touchend:L,touchcancel:N},he="touchstart",fe="touchstart touchmove touchend touchcancel",de=function(t){function n(){var e,i=n.prototype;return i.evTarget=he,i.evWin=fe,(e=t.apply(this,arguments)||this).started=!1,e}return e(n,t),n.prototype.handler=function(t){var e=pe[t.type];if(e===D&&(this.started=!0),this.started){var n=me.call(this,t,e);e&(L|N)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:E,srcEvent:t})}},n}(ft);function me(t,e){var n=xt(t.touches),i=xt(t.changedTouches);return e&(L|N)&&(n=wt(n.concat(i),"identifier",!0)),[n,i]}function ge(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var ve=ge((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),be=ge((function(t,e){return ve(t,e,!0)}),"merge","Use `assign`.");function ye(t,e,n){var i,s=e.prototype;(i=t.prototype=Object.create(s)).constructor=t,i._super=s,n&&r(i,n)}function xe(t,e){return function(){return t.apply(e,arguments)}}return function(){var e=function(e,n){return void 0===n&&(n={}),new ue(e,t({recognizers:se.concat()},n))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=B,e.DIRECTION_DOWN=Q,e.DIRECTION_LEFT=I,e.DIRECTION_RIGHT=R,e.DIRECTION_UP=P,e.DIRECTION_HORIZONTAL=z,e.DIRECTION_VERTICAL=F,e.DIRECTION_NONE=M,e.DIRECTION_DOWN=Q,e.INPUT_START=D,e.INPUT_MOVE=j,e.INPUT_END=L,e.INPUT_CANCEL=N,e.STATE_POSSIBLE=Pt,e.STATE_BEGAN=Qt,e.STATE_CHANGED=zt,e.STATE_ENDED=Ft,e.STATE_RECOGNIZED=Bt,e.STATE_CANCELLED=Ht,e.STATE_FAILED=Wt,e.Manager=ue,e.Input=ft,e.TouchAction=V,e.TouchInput=qt,e.MouseInput=St,e.PointerEventInput=yt,e.TouchMouseInput=Mt,e.SingleTouchInput=de,e.Recognizer=Vt,e.AttrRecognizer=Gt,e.Tap=Yt,e.Pan=Jt,e.Swipe=te,e.Pinch=ee,e.Rotate=ne,e.Press=ie,e.on=ut,e.off=pt,e.each=$,e.merge=be,e.extend=ve,e.bindFn=xe,e.assign=r,e.inherit=ye,e.bindFn=xe,e.prefixed=p,e.toArray=xt,e.inArray=dt,e.uniqueArray=wt,e.splitStr=ct,e.boolOrFn=U,e.hasParent=Y,e.addEventListeners=ut,e.removeEventListeners=pt,e.defaults=r({},re,{preset:se}),e}()}()}(r);var s,o=r.exports,a="mathquill-command-id",l="mathquill-block-id",c=Math.min,u=Math.max;function p(){}var h=[].slice;function f(t){var e=t.length-1;return function(){var n=h.call(arguments,0,e),i=h.call(arguments,e);return t.apply(this,n.concat([i]))}}var d=f((function(t,e){return f((function(n,i){if(t in n)return n[t].apply(n,e.concat(i))}))}));function m(t){return f((function(e,n){"function"!=typeof e&&(e=d(e));return t.call(this,(function(t){return e.apply(t,[t].concat(n))}))}))}function g(t){var e=h.call(arguments,1);return function(){return t.apply(this,e)}}function v(t,e){if(!e)throw new Error("prayer failed: "+t)}var b=function(t,e,n){function i(t){return"object"==typeof t}function r(t){return"function"==typeof t}function s(){}return function t(n,o){function a(){var t=new l;return r(t.init)&&t.init.apply(t,arguments),t}function l(){}undefined===o&&(o=n,n=Object),a.Bare=l;var c,u=s.prototype=n.prototype,p=l.prototype=a.prototype=a.p=new s;return p.constructor=a,a.extend=function(e){return t(a,e)},(a.open=function(t){if(c={},r(t)?c=t.call(a,p,u,a,n):i(t)&&(c=t),i(c))for(var s in c)e.call(c,s)&&(p[s]=c[s]);return r(p.init)||(p.init=n),a})(o)}}(0,{}.hasOwnProperty),y=-1;function x(t){v("a direction was passed",t===y||1===t)}var w=b(i,(function(t){t.insDirOf=function(t,e){return t===y?this.insertBefore(e.first()):this.insertAfter(e.last())},t.insAtDirEnd=function(t,e){return t===y?this.prependTo(e):this.appendTo(e)}})),T=b((function(t){t.parent=0,t[y]=0,t[1]=0,t.init=function(t,e,n){this.parent=t,this[y]=e,this[1]=n},this.copy=function(t){return T(t.parent,t[y],t[1])}})),k=b((function(t){t[y]=0,t[1]=0,t.parent=0;var e=0;this.byId={},t.init=function(){this.id=e+=1,k.byId[this.id]=this,this.ends={},this.ends[y]=0,this.ends[1]=0},t.dispose=function(){delete k.byId[this.id]},t.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},t.jQ=w(),t.jQadd=function(t){return this.jQ=this.jQ.add(t)},t.jQize=function(t){t=w(t||this.html());function e(t){if(t.getAttribute){var n=t.getAttribute("mathquill-command-id"),i=t.getAttribute("mathquill-block-id");n&&k.byId[n].jQadd(t),i&&k.byId[i].jQadd(t)}for(t=t.firstChild;t;t=t.nextSibling)e(t)}for(var n=0;n<t.length;n+=1)e(t[n]);return t},t.createDir=function(t,e){x(t);var n=this;return n.jQize(),n.jQ.insDirOf(t,e.jQ),e[t]=n.adopt(e.parent,e[y],e[1]),n},t.createLeftOf=function(t){return this.createDir(y,t)},t.selectChildren=function(t,e){return S(t,e)},t.bubble=m((function(t){for(var e=this;e;e=e.parent){if(!1===t(e))break}return this})),t.postOrder=m((function(t){return function e(n){n.eachChild(e),t(n)}(this),this})),t.isEmpty=function(){return 0===this.ends[y]&&0===this.ends[1]},t.isStyleBlock=function(){return!1},t.children=function(){return C(this.ends[y],this.ends[1])},t.eachChild=function(){var t=this.children();return t.each.apply(t,arguments),this},t.foldChildren=function(t,e){return this.children().fold(t,e)},t.withDirAdopt=function(t,e,n,i){return C(this,this).withDirAdopt(t,e,n,i),this},t.adopt=function(t,e,n){return C(this,this).adopt(t,e,n),this},t.disown=function(){return C(this,this).disown(),this},t.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}}));function q(t,e,n){v("a parent is always present",t),v("leftward is properly set up",e?e[1]===n&&e.parent===t:t.ends[y]===n),v("rightward is properly set up",n?n[y]===e&&n.parent===t:t.ends[1]===e)}var C=b((function(t){t.init=function(t,e,n){if(n===s&&(n=y),x(n),v("no half-empty fragments",!t==!e),this.ends={},t){v("withDir is passed to Fragment",t instanceof k),v("oppDir is passed to Fragment",e instanceof k),v("withDir and oppDir have the same parent",t.parent===e.parent),this.ends[n]=t,this.ends[-n]=e;var i=this.fold([],(function(t,e){return t.push.apply(t,e.jQ.get()),t}));this.jQ=this.jQ.add(i)}},t.jQ=w(),t.withDirAdopt=function(t,e,n,i){return t===y?this.adopt(e,n,i):this.adopt(e,i,n)},t.adopt=function(t,e,n){q(t,e,n);var i=this;i.disowned=!1;var r=i.ends[y];if(!r)return this;var s=i.ends[1];return e||(t.ends[y]=r),n?n[y]=s:t.ends[1]=s,i.ends[1][1]=n,i.each((function(n){n[y]=e,n.parent=t,e&&(e[1]=n),e=n})),i},t.disown=function(){var t=this,e=t.ends[y];if(!e||t.disowned)return t;t.disowned=!0;var n=t.ends[1],i=e.parent;return q(i,e[y],e),q(i,n,n[1]),e[y]?e[y][1]=n[1]:i.ends[y]=n[1],n[1]?n[1][y]=e[y]:i.ends[1]=e[y],t},t.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},t.each=m((function(t){var e=this,n=e.ends[y];if(!n)return e;for(;n!==e.ends[1][1];n=n[1]){if(!1===t(n))break}return e})),t.fold=function(t,e){return this.each((function(n){t=e.call(this,t,n)})),t}})),E={},O={},_=b(T,(function(t){t.init=function(t,e){this.parent=t,this.options=e;var n=this.jQ=this._jQ=w('<span class="mq-cursor">&#8203;</span>');this.blink=function(){n.toggleClass("mq-blink")},this.upDownCache={}},t.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[1]?this.selection&&this.selection.ends[y][y]===this[y]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[1].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},t.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=w(),this},t.withDirInsertAt=function(t,e,n,i){var r=this.parent;this.parent=e,this[t]=n,this[-t]=i,r!==e&&r.blur&&r.blur(this)},t.insDirOf=function(t,e){return x(t),this.jQ.insDirOf(t,e.jQ),this.withDirInsertAt(t,e.parent,e[t],e),this.parent.jQ.addClass("mq-hasCursor"),this},t.insLeftOf=function(t){return this.insDirOf(y,t)},t.insRightOf=function(t){return this.insDirOf(1,t)},t.insAtDirEnd=function(t,e){return x(t),this.jQ.insAtDirEnd(t,e.jQ),this.withDirInsertAt(t,e,0,e.ends[t]),e.focus(),this},t.insAtLeftEnd=function(t){return this.insAtDirEnd(y,t)},t.insAtRightEnd=function(t){return this.insAtDirEnd(1,t)},t.jumpUpDown=function(t,e){var n=this;n.upDownCache[t.id]=T.copy(n);var i=n.upDownCache[e.id];if(i)i[1]?n.insLeftOf(i[1]):n.insAtRightEnd(i.parent);else{var r=n.offset().left;e.seek(r,n)}},t.offset=function(){var t=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),t},t.unwrapGramp=function(){var t=this.parent.parent,e=t.parent,n=t[1],i=t[y];if(t.disown().eachChild((function(r){r.isEmpty()||(r.children().adopt(e,i,n).each((function(e){e.jQ.insertBefore(t.jQ.first())})),i=r.ends[1])})),!this[1])if(this[y])this[1]=this[y][1];else for(;!this[1];){if(this.parent=this.parent[1],!this.parent){this[1]=t[1],this.parent=e;break}this[1]=this.parent.ends[y]}this[1]?this.insLeftOf(this[1]):this.insAtRightEnd(e),t.jQ.remove(),t[y].siblingDeleted&&t[y].siblingDeleted(this.options,1),t[1].siblingDeleted&&t[1].siblingDeleted(this.options,y)},t.startSelection=function(){for(var t=this.anticursor=T.copy(this),e=t.ancestors={},n=t;n.parent;n=n.parent)e[n.parent.id]=n},t.endSelection=function(){delete this.anticursor},t.select=function(){var t=this.anticursor;if(this[y]===t[y]&&this.parent===t.parent)return!1;for(var e=this;e.parent;e=e.parent)if(e.parent.id in t.ancestors){var n=e.parent;break}v("cursor and anticursor in the same tree",n);var i,r,s=t.ancestors[n.id],o=1;if(e[y]!==s)for(var a=e;a;a=a[1])if(a[1]===s[1]){o=y,i=e,r=s;break}return 1===o&&(i=s,r=e),i instanceof T&&(i=i[1]),r instanceof T&&(r=r[y]),this.hide().selection=n.selectChildren(i,r),this.insDirOf(o,this.selection.ends[o]),this.selectionChanged(),!0},t.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},t.deleteSelection=function(){this.selection&&(this[y]=this.selection.ends[y][y],this[1]=this.selection.ends[1][1],this.selection.remove(),this.selectionChanged(),delete this.selection)},t.replaceSelection=function(){var t=this.selection;return t&&(this[y]=t.ends[y][y],this[1]=t.ends[1][1],delete this.selection),t},t.depth=function(){for(var t=this,e=0;t=t.parent;)e+=t instanceof G?1:0;return e},t.isTooDeep=function(t){if(this.options.maxDepth!==s)return this.depth()+(t||0)>this.options.maxDepth}})),S=b(C,(function(t,e){t.init=function(){e.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},t.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),e.adopt.apply(this,arguments)},t.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},t.join=function(t){return this.fold("",(function(e,n){return e+n[t]()}))}})),A=b((function(t){t.init=function(t,e,n){this.id=t.id,this.data={},this.root=t,this.container=e,this.options=n,t.controller=this,this.cursor=t.cursor=_(t,n)},t.handle=function(t,e){var n=this.options.handlers;if(n&&n.fns[t]){var i=n.APIClasses[this.KIND_OF_MQ](this);e===y||1===e?n.fns[t](e,i):n.fns[t](i)}};var e=[];this.onNotify=function(t){e.push(t)},t.notify=function(){for(var t=0;t<e.length;t+=1)e[t].apply(this.cursor,arguments);return this}})),D={},j=b(),L={},N=b(),M={};function I(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014â2015) â v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function R(t){return I(),Qt(t)}R.prototype=N.p,R.VERSION="v0.10.1",R.interfaceVersion=function(t){if(1!==t)throw"Only interface version 1 supported. You specified: "+t;return(I=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014â2015) â v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),R},R.getInterface=z;var P=z.MIN=1,Q=z.MAX=2;function z(t){if(!(P<=t&&t<=Q))throw"Only interface versions between "+P+" and "+Q+" supported. You specified: "+t;function e(t){if(!t||!t.nodeType)return null;var e=w(t).children(".mq-root-block").attr(l),i=e&&k.byId[e].controller;return i?n[i.KIND_OF_MQ](i):null}var n={};function r(t,e){for(var i in e&&e.handlers&&(e.handlers={fns:e.handlers,APIClasses:n}),e)if(e.hasOwnProperty(i)){var r=e[i],s=L[i];t[i]=s?s(r):r}}e.L=y,e.R=1,e.saneKeyboardEvents=W,e.config=function(t){return r(j.p,t),this},e.registerEmbed=function(t,e){if(!/^[a-z][a-z0-9]*$/i.test(t))throw"Embed name must start with letter and be only letters and digits";M[t]=e};var s=n.AbstractMathQuill=b(N,(function(t){t.init=function(t){this.__controller=t,this.__options=t.options,this.id=t.id,this.data=t.data},t.__mathquillify=function(t){var e=this.__controller,n=e.root,i=e.container;e.createTextarea();var r=i.addClass(t).contents().detach();n.jQ=w('<span class="mq-root-block"/>').attr(l,n.id).appendTo(i),this.latex(r.text()),this.revert=function(){return i.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(r)}},t.config=function(t){return r(this.__options,t),this},t.el=function(){return this.__controller.container[0]},t.text=function(){return this.__controller.exportText()},t.latex=function(t){return arguments.length>0?(this.__controller.renderLatexMath(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},t.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},t.reflow=function(){return this.__controller.root.postOrder("reflow"),this}}));for(var o in e.prototype=s.prototype,n.EditableField=b(s,(function(t,e){t.__mathquillify=function(){return e.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},t.focus=function(){return this.__controller.textarea.focus(),this},t.blur=function(){return this.__controller.textarea.blur(),this},t.write=function(t){return this.__controller.writeLatex(t),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},t.empty=function(){var t=this.__controller.root,e=this.__controller.cursor;return t.eachChild("postOrder","dispose"),t.ends[y]=t.ends[1]=0,t.jQ.empty(),delete e.selection,e.insAtRightEnd(t),this},t.cmd=function(t){var e=this.__controller.notify(),n=e.cursor;if(/^\\[a-z]+$/i.test(t)&&!n.isTooDeep()){t=t.slice(1);var i=E[t];i&&(t=i(t),n.selection&&t.replaces(n.replaceSelection()),t.createLeftOf(n.show()),this.__controller.scrollHoriz())}else n.parent.write(n,t);return e.blurred&&n.hide().parent.blur(),this},t.select=function(){var t=this.__controller;for(t.notify("move").cursor.insAtRightEnd(t.root);t.cursor[y];)t.selectLeft();return this},t.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},t.moveToDirEnd=function(t){return this.__controller.notify("move").cursor.insAtDirEnd(t,this.__controller.root),this},t.moveToLeftEnd=function(){return this.moveToDirEnd(y)},t.moveToRightEnd=function(){return this.moveToDirEnd(1)},t.keystroke=function(t){t=t.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var e=0;e<t.length;e+=1)this.__controller.keystroke(t[e],{preventDefault:p});return this},t.typedText=function(t){for(var e=0;e<t.length;e+=1)this.__controller.typedText(t.charAt(e));return this},t.dropEmbedded=function(t,e,n){var i=t-w(window).scrollLeft(),r=e-w(window).scrollTop(),s=document.elementFromPoint(i,r);this.__controller.seek(w(s),t,e),Pt().setOptions(n).createLeftOf(this.__controller.cursor)},t.clickAt=function(t,e,n){n=n||document.elementFromPoint(t,e);var r=this.__controller,s=r.root;return i.contains(s.jQ[0],n)||(n=s.jQ[0]),r.seek(w(n),t+pageXOffset,e+pageYOffset),r.blurred&&this.focus(),this},t.ignoreNextMousedown=function(t){return this.__controller.cursor.options.ignoreNextMousedown=t,this}})),e.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},e.EditableField.prototype=n.EditableField.prototype,D)!function(i,r){var s=n[i]=r(n);e[i]=function(n,r){var o=e(n);if(o instanceof s||!n||!n.nodeType)return o;var a=A(s.RootBlock(),w(n),j());return a.KIND_OF_MQ=i,s(a).__mathquillify(r,t)},e[i].prototype=s.prototype}(o,D[o]);return e}function F(t){for(var e="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),n=0;n<e.length;n+=1)!function(e){t[e]=function(t){this.controller.handle(e,t)}}(e[n]);t.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}var B,H=b((function(t,e,n){function i(t,e){throw"Parse Error: "+e+" at "+(t=t?"'"+t+"'":"EOF")}t.init=function(t){this._=t},t.parse=function(t){return this.skip(o)._(""+t,(function(t,e){return e}),i)},t.or=function(t){v("or is passed a parser",t instanceof n);var e=this;return n((function(n,i,r){return e._(n,i,(function(e){return t._(n,i,r)}))}))},t.then=function(t){var e=this;return n((function(i,r,s){return e._(i,(function(e,i){var o=t instanceof n?t:t(i);return v("a parser is returned",o instanceof n),o._(e,r,s)}),s)}))},t.many=function(){var t=this;return n((function(e,n,i){for(var r=[];t._(e,s,o););return n(e,r);function s(t,n){return e=t,r.push(n),!0}function o(){return!1}}))},t.times=function(t,e){arguments.length<2&&(e=t);var i=this;return n((function(n,r,s){for(var o,a=[],l=!0,c=0;c<t;c+=1)if(!(l=i._(n,u,p)))return s(n,o);for(;c<e&&l;c+=1)l=i._(n,u,h);return r(n,a);function u(t,e){return a.push(e),n=t,!0}function p(t,e){return o=e,n=t,!1}function h(t,e){return!1}}))},t.result=function(t){return this.then(s(t))},t.atMost=function(t){return this.times(0,t)},t.atLeast=function(t){var e=this;return e.times(t).then((function(t){return e.many().map((function(e){return t.concat(e)}))}))},t.map=function(t){return this.then((function(e){return s(t(e))}))},t.skip=function(t){return this.then((function(e){return t.result(e)}))},this.string=function(t){var e=t.length,i="expected '"+t+"'";return n((function(n,r,s){var o=n.slice(0,e);return o===t?r(n.slice(e),o):s(n,i)}))};var r=this.regex=function(t){v("regexp parser is anchored","^"===t.toString().charAt(1));var e="expected "+t;return n((function(n,i,r){var s=t.exec(n);if(s){var o=s[0];return i(n.slice(o.length),o)}return r(n,e)}))},s=n.succeed=function(t){return n((function(e,n){return n(e,t)}))};n.fail=function(t){return n((function(e,n,i){return i(e,t)}))},n.letter=r(/^[a-z]/i),n.letters=r(/^[a-z]*/i),n.digit=r(/^[0-9]/),n.digits=r(/^[0-9]*/),n.whitespace=r(/^\s+/),n.optWhitespace=r(/^\s*/),n.any=n((function(t,e,n){return t?e(t.slice(1),t.charAt(0)):n(t,"expected any character")})),n.all=n((function(t,e,n){return e("",t)}));var o=n.eof=n((function(t,e,n){return t?n(t,"expected EOF"):e(t,t)}))})),W=(B={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},function(t,e){var n,r=null,s=null,o=i(t),a=i(e.container||o),l=p;function c(t){l=t,clearTimeout(n),n=setTimeout(t)}function u(t){c((function(e){l=p,clearTimeout(n),t(e)}))}a.bind("keydown keypress input keyup focusout paste",(function(t){l(t)}));var h=!1;function f(){e.keystroke(function(t){var e,n=t.which||t.keyCode,i=B[n],r=[];return t.ctrlKey&&r.push("Ctrl"),t.originalEvent&&t.originalEvent.metaKey&&r.push("Meta"),t.altKey&&r.push("Alt"),t.shiftKey&&r.push("Shift"),e=i||String.fromCharCode(n),r.length||i?(r.push(e),r.join("-")):e}(r),r)}function d(){if(!("selectionStart"in(t=o[0]))||t.selectionStart===t.selectionEnd){var t,n=o.val();1===n.length?(o.val(""),e.typedText(n)):n&&o[0].select&&o[0].select()}}function m(){var t=o.val();o.val(""),t&&e.paste(t)}return a.bind({keydown:function(t){t.target===o[0]&&(r=t,s=null,h&&u((function(t){t&&"focusout"===t.type||!o[0].select||o[0].select()})),f())},keypress:function(t){t.target===o[0]&&(r&&s&&f(),s=t,c(d))},keyup:function(t){t.target===o[0]&&r&&!s&&c(d)},focusout:function(){r=s=null},cut:function(){u((function(){e.cut()}))},copy:function(){u((function(){e.copy()}))},paste:function(t){t.target===o[0]&&(document.activeElement!==o[0]&&o.focus(),c(m))}}),{select:function(t){l(),l=p,clearTimeout(n),o.val(t),t&&o[0].select&&o[0].select(),h=!!t}}});A.open((function(t,e){t.exportText=function(){return this.root.foldChildren("",(function(t,e){return t+e.text()}))}})),A.open((function(t){t.focusBlurEvents=function(){var t,e=this,n=e.root,i=e.cursor;function r(){clearTimeout(t),i.selection&&i.selection.jQ.addClass("mq-blur"),s()}function s(){i.hide().parent.blur(),e.container.removeClass("mq-focused"),w(window).unbind("blur",r)}e.textarea.focus((function(){e.blurred=!1,clearTimeout(t),e.container.addClass("mq-focused"),i.parent||i.insAtRightEnd(n),i.selection?(i.selection.jQ.removeClass("mq-blur"),e.selectionChanged()):i.show()})).blur((function(){e.blurred=!0,t=setTimeout((function(){n.postOrder("intentionalBlur"),i.clearSelection().endSelection(),s()})),w(window).bind("blur",r)})),e.blurred=!0,i.hide().parent.blur()},t.unbindFocusBlurEvents=function(){this.textarea.unbind("focus blur")}})),A.open((function(t){t.keystroke=function(t,e){this.cursor.parent.keystroke(t,e,this)}})),k.open((function(t){t.keystroke=function(t,e,n){var i=n.cursor;switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(y);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(1,t,e);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(y,t,e);case"End":n.notify("move").cursor.insAtRightEnd(i.parent);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root);break;case"Shift-End":for(;i[1];)n.selectRight();break;case"Ctrl-Shift-End":for(;i[1]||i.parent!==n.root;)n.selectRight();break;case"Home":n.notify("move").cursor.insAtLeftEnd(i.parent);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root);break;case"Shift-Home":for(;i[y];)n.selectLeft();break;case"Ctrl-Shift-Home":for(;i[y]||i.parent!==n.root;)n.selectLeft();break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Ctrl-Right":break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":if(i[y])for(;i[y];)n.selectLeft();else n.selectLeft();case"Shift-Down":if(i[1])for(;i[1];)n.selectRight();else n.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(1);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":for(n.notify("move").cursor.insAtRightEnd(n.root);i[y];)n.selectLeft();break;default:return}e.preventDefault(),n.scrollHoriz()},t.moveOutOf=t.moveTowards=t.deleteOutOf=t.deleteTowards=t.unselectInto=t.selectOutOf=t.selectTowards=function(){v("overridden or never called on this node")}})),A.open((function(t){function e(t,e){var n=t.notify("upDown").cursor,i=e+"Into",r=e+"OutOf";return n[1][i]?n.insAtLeftEnd(n[1][i]):n[y][i]?n.insAtRightEnd(n[y][i]):n.parent.bubble((function(t){var e=t[r];if(e&&("function"==typeof e&&(e=t[r](n)),e instanceof k&&n.jumpUpDown(t,e),!0!==e))return!1})),t}this.onNotify((function(t){"move"!==t&&"upDown"!==t||this.show().clearSelection()})),t.escapeDir=function(t,e,n){x(t);var i=this.cursor;if(i.parent!==this.root&&n.preventDefault(),i.parent!==this.root)return i.parent.moveOutOf(t,i),this.notify("move")},L.leftRightIntoCmdGoes=function(t){if(t&&"up"!==t&&"down"!==t)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+t+'"';return t},t.moveDir=function(t){x(t);var e=this.cursor,n=e.options.leftRightIntoCmdGoes;return e.selection?e.insDirOf(t,e.selection.ends[t]):e[t]?e[t].moveTowards(t,e,n):e.parent.moveOutOf(t,e,n),this.notify("move")},t.moveLeft=function(){return this.moveDir(y)},t.moveRight=function(){return this.moveDir(1)},t.moveUp=function(){return e(this,"up")},t.moveDown=function(){return e(this,"down")},this.onNotify((function(t){"upDown"!==t&&(this.upDownCache={})})),this.onNotify((function(t){"edit"===t&&this.show().deleteSelection()})),t.deleteDir=function(t){x(t);var e=this.cursor,n=e.selection;return this.notify("edit"),n||(e[t]?e[t].deleteTowards(t,e):e.parent.deleteOutOf(t,e)),e[y].siblingDeleted&&e[y].siblingDeleted(e.options,1),e[1].siblingDeleted&&e[1].siblingDeleted(e.options,y),e.parent.bubble("reflow"),this},t.ctrlDeleteDir=function(t){x(t);var e=this.cursor;return!e[t]||e.selection?this.deleteDir(t):(this.notify("edit"),t===y?C(e.parent.ends[y],e[y]).remove():C(e[1],e.parent.ends[1]).remove(),e.insAtDirEnd(t,e.parent),e[y].siblingDeleted&&e[y].siblingDeleted(e.options,1),e[1].siblingDeleted&&e[1].siblingDeleted(e.options,y),e.parent.bubble("reflow"),this)},t.backspace=function(){return this.deleteDir(y)},t.deleteForward=function(){return this.deleteDir(1)},this.onNotify((function(t){"select"!==t&&this.endSelection()})),t.selectDir=function(t){var e=this.notify("select").cursor,n=e.selection;x(t),e.anticursor||e.startSelection();var i=e[t];i?n&&n.ends[t]===i&&e.anticursor[-t]!==i?i.unselectInto(t,e):i.selectTowards(t,e):e.parent.selectOutOf(t,e),e.clearSelection(),e.select()||e.show()},t.selectLeft=function(){return this.selectDir(y)},t.selectRight=function(){return this.selectDir(1)}}));var $=function(){function t(t){for(var e=t[0]||G(),n=1;n<t.length;n+=1)t[n].children().adopt(e,e.ends[1],0);return e}var e=H.string,n=H.regex,i=H.letter,r=H.any,s=H.optWhitespace,o=H.succeed,a=H.fail,l=i.map((function(t){return ot(t)})),c=n(/^[^${}\\_^]/).map((function(t){return V(t)})),u=n(/^[^\\a-eg-zA-Z]/).or(e("\\").then(n(/^[a-z]+/i).or(n(/^\s+/).result(" ")).or(r))).then((function(t){var e=E[t];return e?e(t).parser():a("unknown command: \\"+t)})).or(l).or(c),p=e("{").then((function(){return f})).skip(e("}")),h=s.then(p.or(u.map((function(t){var e=G();return t.adopt(e,0,0),e})))),f=h.many().map(t).skip(s),d=e("[").then(h.then((function(t){return"]"!==t.join("latex")?o(t):a()})).many().map(t).skip(s)).skip(e("]")),m=f;return m.block=h,m.optBlock=d,m}();A.open((function(t,e){t.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},L.maxDepth=function(t){return"number"==typeof t?t:s},t.writeLatex=function(t){var e=this.notify("edit").cursor;return e.parent.writeLatex(e,t),this},t.renderLatexMath=function(t){var e=this.root,n=this.cursor;n.options;var i=e.jQ,r=H.all,s=H.eof,o=$.skip(s).or(r.result(!1)).parse(t);if(e.eachChild("postOrder","dispose"),e.ends[y]=e.ends[1]=0,o&&o.prepareInsertionAt(n)){o.children().adopt(e,0,0);var a=o.join("html");i.html(a),e.jQize(i.children()),e.finalizeInsert(n.options)}else i.empty();delete n.selection,n.insAtRightEnd(e)},t.renderLatexText=function(t){var e=this.root,n=this.cursor;e.jQ.children().slice(1).remove(),e.eachChild("postOrder","dispose"),e.ends[y]=e.ends[1]=0,delete n.selection,n.show().insAtRightEnd(e);var i=H.regex,r=H.string,s=H.eof,o=H.all,a=r("$").then($).skip(r("$").or(s)).map((function(t){var e=nt(n);e.createBlocks();var i=e.ends[y];return t.children().adopt(i,0,0),e})),l=r("\\$").result("$").or(i(/^[^$]/)).map(V),c=a.or(l).many().skip(s).or(o.result(!1)).parse(t);if(c){for(var u=0;u<c.length;u+=1)c[u].adopt(e,e.ends[1],0);e.jQize().appendTo(e.jQ),e.finalizeInsert(n.options)}}})),A.open((function(t){j.p.ignoreNextMousedown=p,t.delegateMouseEvents=function(){var t=this.root.jQ;this.container.bind("mousedown.mathquill",(function(e){var n,i=w(e.target).closest(".mq-root-block"),r=k.byId[i.attr(l)||t.attr(l)].controller,o=r.cursor,a=o.blink,c=r.textareaSpan,u=r.textarea;(e.preventDefault(),e.target.unselectable=!0,o.options.ignoreNextMousedown(e))||(o.options.ignoreNextMousedown=p,r.blurred&&(r.editable||i.prepend(c),u.focus()),o.blink=p,r.seek(w(e.target),e.pageX,e.pageY).cursor.startSelection(),i.mousemove(h),w(e.target.ownerDocument).mousemove(f).mouseup((function t(e){o.blink=a,o.selection||(r.editable?o.show():c.detach()),i.unbind("mousemove",h),w(e.target.ownerDocument).unbind("mousemove",f).unbind("mouseup",t)})));function h(t){n=w(t.target)}function f(t){o.anticursor||o.startSelection(),r.seek(n,t.pageX,t.pageY).cursor.select(),n=s}}))}})),A.open((function(t){t.seek=function(t,e,n){var i=this.notify("select").cursor;if(t){var r=t.attr(l)||t.attr(a);if(!r){var s=t.parent();r=s.attr(l)||s.attr(a)}}var o=r?k.byId[r]:this.root;return v("nodeId is the id of some Node that exists",o),i.clearSelection().show(),o.seek(e,i),this.scrollHoriz(),this}})),A.open((function(t){t.scrollHoriz=function(){var t=this.cursor,e=t.selection,n=this.root.jQ[0].getBoundingClientRect();if(e){var i=e.jQ[0].getBoundingClientRect(),r=i.left-(n.left+20),s=i.right-(n.right-20);if(e.ends[y]===t[1])if(r<0)a=r;else{if(!(s>0))return;if(i.left-s<n.left+20)a=r;else a=s}else if(s>0)a=s;else{if(!(r<0))return;if(i.right-r>n.right-20)a=s;else a=r}}else{var o=t.jQ[0].getBoundingClientRect().left;if(o>n.right-20)var a=o-(n.right-20);else{if(!(o<n.left+20))return;var a=o-(n.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+a},100)}})),A.open((function(t){j.p.substituteTextarea=function(){return w("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},t.createTextarea=function(){var t=this.textareaSpan=w('<span class="mq-textarea"></span>'),e=this.options.substituteTextarea();if(!e.nodeType)throw"substituteTextarea() must return a DOM element, got "+e;e=this.textarea=w(e).appendTo(t);var n=this;n.cursor.selectionChanged=function(){n.selectionChanged()}},t.selectionChanged=function(){var t=this;wt(t.container[0]),t.textareaSelectionTimeout===s&&(t.textareaSelectionTimeout=setTimeout((function(){t.setTextareaSelection()})))},t.setTextareaSelection=function(){this.textareaSelectionTimeout=s;var t="";this.cursor.selection&&(t=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(t="$"+t+"$")),this.selectFn(t)},t.staticMathTextareaEvents=function(){var t=this;t.root;var e=t.cursor,n=t.textarea,r=t.textareaSpan;function s(){r.detach(),t.blurred=!0}this.container.prepend(i('<span class="mq-selectable">').text("$"+t.exportLatex()+"$")),t.blurred=!0,n.bind("cut paste",!1).bind("copy",(function(){t.setTextareaSelection()})).focus((function(){t.blurred=!1})).blur((function(){e.selection&&e.selection.clear(),setTimeout(s)})),t.selectFn=function(t){n.val(t),t&&n.select()}},j.p.substituteKeyboardEvents=W,t.editablesTextareaEvents=function(){var t=this.textarea,e=this.textareaSpan,n=this.options.substituteKeyboardEvents(t,this);this.selectFn=function(t){n.select(t)},this.container.prepend(e),this.focusBlurEvents()},t.unbindEditablesEvents=function(){var t=this,e=t.textarea,n=t.textareaSpan;this.selectFn=function(t){e.val(t),t&&e.select()},n.remove(),this.unbindFocusBlurEvents(),t.blurred=!0,e.bind("cut paste",!1)},t.typedText=function(t){if("\n"===t)return this.handle("enter");var e=this.notify().cursor;e.parent.write(e,t),this.scrollHoriz()},t.cut=function(){var t=this,e=t.cursor;e.selection&&setTimeout((function(){t.notify("edit"),e.parent.bubble("reflow")}))},t.copy=function(){this.setTextareaSelection()},t.paste=function(t){this.options.statelessClipboard&&(t="$"===t.slice(0,1)&&"$"===t.slice(-1)?t.slice(1,-1):"\\text{"+t+"}"),this.writeLatex(t).cursor.show()}}));var U=b(k,(function(t,e){t.finalizeInsert=function(t,e){var n=this;n.postOrder("finalizeTree",t),n.postOrder("contactWeld",e),n.postOrder("blur"),n.postOrder("reflow"),n[1].siblingCreated&&n[1].siblingCreated(t,y),n[y].siblingCreated&&n[y].siblingCreated(t,1),n.bubble("reflow")},t.prepareInsertionAt=function(t){var e=t.options.maxDepth;if(e!==s){var n=t.depth();if(n>e)return!1;this.removeNodesDeeperThan(e-n)}return!0},t.removeNodesDeeperThan=function(t){for(var e,n=0,i=[[this,n]];i.length;)(e=i.shift())[0].children().each((function(r){var s=r instanceof G?1:0;(n=e[1]+s)<=t?i.push([r,n]):(s?r.children():r).remove()}))}})),X=b(U,(function(t,e){t.init=function(t,n,i){var r=this;e.init.call(r),r.ctrlSeq||(r.ctrlSeq=t),n&&(r.htmlTemplate=n),i&&(r.textTemplate=i)},t.replaces=function(t){t.disown(),this.replacedFragment=t},t.isEmpty=function(){return this.foldChildren(!0,(function(t,e){return t&&e.isEmpty()}))},t.parser=function(){var t=$.block,e=this;return t.times(e.numBlocks()).map((function(t){e.blocks=t;for(var n=0;n<t.length;n+=1)t[n].adopt(e,e.ends[1],0);return e}))},t.createLeftOf=function(t){var n=this,i=n.replacedFragment;n.createBlocks(),e.createLeftOf.call(n,t),i&&(i.adopt(n.ends[y],0,0),i.jQ.appendTo(n.ends[y].jQ),n.placeCursor(t),n.prepareInsertionAt(t)),n.finalizeInsert(t.options),n.placeCursor(t)},t.createBlocks=function(){for(var t=this,e=t.numBlocks(),n=t.blocks=Array(e),i=0;i<e;i+=1){(n[i]=G()).adopt(t,t.ends[1],0)}},t.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.ends[y],(function(t,e){return t.isEmpty()?t:e})))},t.moveTowards=function(t,e,n){var i=n&&this[n+"Into"];e.insAtDirEnd(-t,i||this.ends[-t])},t.deleteTowards=function(t,e){this.isEmpty()?e[t]=this.remove()[t]:this.moveTowards(t,e,null)},t.selectTowards=function(t,e){e[-t]=this,e[t]=this[t]},t.selectChildren=function(){return S(this,this)},t.unselectInto=function(t,e){e.insAtDirEnd(-t,e.anticursor.ancestors[this.id])},t.seek=function(t,e){function n(t){var e={};return e[y]=t.jQ.offset().left,e[1]=e[y]+t.jQ.outerWidth(),e}var i=this,r=n(i);if(t<r[y])return e.insLeftOf(i);if(t>r[1])return e.insRightOf(i);var s=r[y];i.eachChild((function(o){var a=n(o);return t<a[y]?(t-s<a[y]-t?o[y]?e.insAtRightEnd(o[y]):e.insLeftOf(i):e.insAtLeftEnd(o),!1):t>a[1]?void(o[1]?s=a[1]:r[1]-t<t-a[1]?e.insRightOf(i):e.insAtRightEnd(o)):(o.seek(t,e),!1)}))},t.numBlocks=function(){var t=this.htmlTemplate.match(/&\d+/g);return t?t.length:0},t.html=function(){var t=this,e=t.blocks,n=" mathquill-command-id="+t.id,i=t.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);v("no unmatched angle brackets",i.join("")===this.htmlTemplate);for(var r=0,s=i[0];s;s=i[r+=1])if("/>"===s.slice(-2))i[r]=s.slice(0,-2)+n+"/>";else if("<"===s.charAt(0)){v("not an unmatched top-level close tag","/"!==s.charAt(1)),i[r]=s.slice(0,-1)+n+">";var o=1;do{v("no missing close tags",s=i[r+=1]),"</"===s.slice(0,2)?o-=1:"<"===s.charAt(0)&&"/>"!==s.slice(-2)&&(o+=1)}while(o>0)}return i.join("").replace(/>&(\d+)/g,(function(t,n){return" mathquill-block-id="+e[n].id+">"+e[n].join("html")}))},t.latex=function(){return this.foldChildren(this.ctrlSeq,(function(t,e){return t+"{"+(e.latex()||" ")+"}"}))},t.textTemplate=[""],t.text=function(){var t=this,e=0;return t.foldChildren(t.textTemplate[e],(function(n,i){e+=1;var r=i.text();return n&&"("===t.textTemplate[e]&&"("===r[0]&&")"===r.slice(-1)?n+r.slice(1,-1)+t.textTemplate[e]:n+r+(t.textTemplate[e]||"")}))}})),K=b(X,(function(t,e){t.init=function(t,n,i){i||(i=t&&t.length>1?t.slice(1):t),e.init.call(this,t,n,[i])},t.parser=function(){return H.succeed(this)},t.numBlocks=function(){return 0},t.replaces=function(t){t.remove()},t.createBlocks=p,t.moveTowards=function(t,e){e.jQ.insDirOf(t,this.jQ),e[-t]=this,e[t]=this[t]},t.deleteTowards=function(t,e){e[t]=this.remove()[t]},t.seek=function(t,e){t-this.jQ.offset().left<this.jQ.outerWidth()/2?e.insLeftOf(this):e.insRightOf(this)},t.latex=function(){return this.ctrlSeq},t.text=function(){return this.textTemplate},t.placeCursor=p,t.isEmpty=function(){return!0}})),V=b(K,(function(t,e){t.init=function(t,n){e.init.call(this,t,"<span>"+(n||t)+"</span>")}})),Y=b(K,(function(t,e){t.init=function(t,n,i){e.init.call(this,t,'<span class="mq-binary-operator">'+n+"</span>",i)}})),G=b(U,(function(t,e){t.join=function(t){return this.foldChildren("",(function(e,n){return e+n[t]()}))},t.html=function(){return this.join("html")},t.latex=function(){return this.join("latex")},t.text=function(){return this.ends[y]===this.ends[1]&&0!==this.ends[y]?this.ends[y].text():this.join("text")},t.keystroke=function(t,n,i){return!i.options.spaceBehavesLikeTab||"Spacebar"!==t&&"Shift-Spacebar"!==t?e.keystroke.apply(this,arguments):(n.preventDefault(),void i.escapeDir("Shift-Spacebar"===t?y:1,t,n))},t.moveOutOf=function(t,e,n){!(n&&this.parent[n+"Into"])&&this[t]?e.insAtDirEnd(-t,this[t]):e.insDirOf(t,this.parent)},t.selectOutOf=function(t,e){e.insDirOf(t,this.parent)},t.deleteOutOf=function(t,e){e.unwrapGramp()},t.seek=function(t,e){var n=this.ends[1];if(!n||n.jQ.offset().left+n.jQ.outerWidth()<t)return e.insAtRightEnd(this);if(t<this.ends[y].jQ.offset().left)return e.insAtLeftEnd(this);for(;t<n.jQ.offset().left;)n=n[y];return n.seek(t,e)},t.chToCmd=function(t,e){var n;return t.match(/^[a-eg-zA-Z]$/)?ot(t):/^\d$/.test(t)?rt(t):e&&e.typingSlashWritesDivisionSymbol&&"/"===t?E["Ã·"](t):e&&e.typingAsteriskWritesTimesSymbol&&"*"===t?E["Ã"](t):(n=O[t]||E[t])?n(t):V(t)},t.write=function(t,e){var n=this.chToCmd(e,t.options);t.selection&&n.replaces(t.replaceSelection()),t.isTooDeep()||n.createLeftOf(t.show())},t.writeLatex=function(t,e){var n=H.all,i=H.eof,r=$.skip(i).or(n.result(!1)).parse(e);r&&!r.isEmpty()&&r.prepareInsertionAt(t)&&(r.children().adopt(t.parent,t[y],t[1]),r.jQize().insertBefore(t.jQ),t[y]=r.ends[1],r.finalizeInsert(t.options,t),r.ends[1][1].siblingCreated&&r.ends[1][1].siblingCreated(t.options,y),r.ends[y][y].siblingCreated&&r.ends[y][y].siblingCreated(t.options,1),t.parent.bubble("reflow"))},t.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},t.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}}));j.p.mouseEvents=!0,D.StaticMath=function(t){return b(t.AbstractMathQuill,(function(e,n){this.RootBlock=G,e.__mathquillify=function(t,e){return this.config(t),n.__mathquillify.call(this,"mq-math-mode"),this.__options.mouseEvents&&(this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents()),this},e.init=function(){n.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],t.InnerMathField)},e.latex=function(){var e=n.latex.apply(this,arguments);return arguments.length>0&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],t.InnerMathField),e}}))};var Z=b(G,F);D.MathField=function(t){return b(t.EditableField,(function(t,e){this.RootBlock=Z,t.__mathquillify=function(t,n){return this.config(t),n>1&&(this.__controller.root.reflow=p),e.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}}))},D.InnerMathField=function(t){return b(t.MathField,(function(t,e){t.makeStatic=function(){this.__controller.editable=!1,this.__controller.root.blur(),this.__controller.unbindEditablesEvents(),this.__controller.container.removeClass("mq-editable-field")},t.makeEditable=function(){this.__controller.editable=!0,this.__controller.editablesTextareaEvents(),this.__controller.cursor.insAtRightEnd(this.__controller.root),this.__controller.container.addClass("mq-editable-field")}}))};var J=b(k,(function(t,e){function n(t){t.jQ[0].normalize();var e=t.jQ[0].firstChild;if(e){v("only node in TextBlock span is Text node",3===e.nodeType);var n=tt(e.data);return n.jQadd(e),t.children().disown(),n.adopt(t,0,0)}}t.ctrlSeq="\\text",t.replaces=function(t){t instanceof C?this.replacedText=t.remove().jQ.text():"string"==typeof t&&(this.replacedText=t)},t.jQadd=function(t){e.jQadd.call(this,t),this.ends[y]&&this.ends[y].jQadd(this.jQ[0].firstChild)},t.createLeftOf=function(t){var n=this;if(e.createLeftOf.call(this,t),t.insAtRightEnd(n),n.replacedText)for(var i=0;i<n.replacedText.length;i+=1)n.write(t,n.replacedText.charAt(i));n[1].siblingCreated&&n[1].siblingCreated(t.options,y),n[y].siblingCreated&&n[y].siblingCreated(t.options,1),n.bubble("reflow")},t.parser=function(){var t=this,e=H.string,n=H.regex;return H.optWhitespace.then(e("{")).then(n(/^[^}]*/)).skip(e("}")).map((function(e){return 0===e.length?C():(tt(e).adopt(t,0,0),t)}))},t.textContents=function(){return this.foldChildren("",(function(t,e){return t+e.text}))},t.text=function(){return'"'+this.textContents()+'"'},t.latex=function(){var t=this.textContents();return 0===t.length?"":"\\text{"+t.replace(/\\/g,"\\backslash ").replace(/[{}]/g,"\\$&")+"}"},t.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},t.moveTowards=function(t,e){e.insAtDirEnd(-t,this)},t.moveOutOf=function(t,e){e.insDirOf(t,this)},t.unselectInto=t.moveTowards,t.selectTowards=X.prototype.selectTowards,t.deleteTowards=X.prototype.deleteTowards,t.selectOutOf=function(t,e){e.insDirOf(t,this)},t.deleteOutOf=function(t,e){this.isEmpty()&&e.insRightOf(this)},t.write=function(t,n){if(t.show().deleteSelection(),"$"!==n)t[y]?t[y].appendText(n):tt(n).createLeftOf(t);else if(this.isEmpty())t.insRightOf(this),V("\\$","$").createLeftOf(t);else if(t[1])if(t[y]){var i=J(),r=this.ends[y];r.disown().jQ.detach(),r.adopt(i,0,0),t.insLeftOf(this),e.createLeftOf.call(i,t)}else t.insLeftOf(this);else t.insRightOf(this);this.bubble("reflow")},t.writeLatex=function(t,e){t[y]?t[y].appendText(e):tt(e).createLeftOf(t),this.bubble("reflow")},t.seek=function(t,e){e.hide();var i=n(this),r=this.jQ.width()/this.text.length,s=Math.round((t-this.jQ.offset().left)/r);s<=0?e.insAtLeftEnd(this):s>=i.text.length?e.insAtRightEnd(this):e.insLeftOf(i.splitRight(s));for(var o=t-e.show().offset().left,a=o&&o<0?y:1,l=a;e[a]&&o*l>0;)e[a].moveTowards(a,e),l=o,o=t-e.offset().left;if(a*o<-a*l&&e[-a].moveTowards(-a,e),e.anticursor){if(e.anticursor.parent===this){var c=e[y]&&e[y].text.length;if(this.anticursorPosition===c)e.anticursor=T.copy(e);else{if(this.anticursorPosition<c){var u=e[y].splitRight(this.anticursorPosition);e[y]=u}else u=e[1].splitRight(this.anticursorPosition-c);e.anticursor=T(this,u[y],u)}}}else this.anticursorPosition=e[y]&&e[y].text.length},t.blur=function(t){G.prototype.blur.call(this),t&&(""===this.textContents()?(this.remove(),t[y]===this?t[y]=this[y]:t[1]===this&&(t[1]=this[1])):n(this))},t.focus=G.prototype.focus})),tt=b(k,(function(t,e){function n(t,e){return e.charAt(t===y?0:-1+e.length)}t.init=function(t){e.init.call(this),this.text=t},t.jQadd=function(t){this.dom=t,this.jQ=w(t)},t.jQize=function(){return this.jQadd(document.createTextNode(this.text))},t.appendText=function(t){this.text+=t,this.dom.appendData(t)},t.prependText=function(t){this.text=t+this.text,this.dom.insertData(0,t)},t.insTextAtDirEnd=function(t,e){x(e),1===e?this.appendText(t):this.prependText(t)},t.splitRight=function(t){var e=tt(this.text.slice(t)).adopt(this.parent,this,this[1]);return e.jQadd(this.dom.splitText(t)),this.text=this.text.slice(0,t),e},t.moveTowards=function(t,e){x(t);var i=n(-t,this.text),r=this[-t];return r?r.insTextAtDirEnd(i,t):tt(i).createDir(-t,e),this.deleteTowards(t,e)},t.latex=function(){return this.text},t.deleteTowards=function(t,e){this.text.length>1?1===t?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),e[t]=this[t])},t.selectTowards=function(t,e){x(t);var i=e.anticursor,r=n(-t,this.text);if(i[t]===this){var s=tt(r).createDir(t,e);i[t]=s,e.insDirOf(t,s)}else{var o=this[-t];if(o)o.insTextAtDirEnd(r,t);else(s=tt(r).createDir(-t,e)).jQ.insDirOf(-t,e.selection.jQ);1===this.text.length&&i[-t]===this&&(i[-t]=this[-t])}return this.deleteTowards(t,e)}}));function et(t,e,n){return b(J,{ctrlSeq:t,htmlTemplate:"<"+e+" "+n+">&0</"+e+">"})}E.text=E.textnormal=E.textrm=E.textup=E.textmd=J,E.em=E.italic=E.italics=E.emph=E.textit=E.textsl=et("\\textit","i",'class="mq-text-mode"'),E.strong=E.bold=E.textbf=et("\\textbf","b",'class="mq-text-mode"'),E.sf=E.textsf=et("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),E.tt=E.texttt=et("\\texttt","span",'class="mq-monospace mq-text-mode"'),E.textsc=et("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),E.uppercase=et("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),E.lowercase=et("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"');var nt=b(X,(function(t,e){t.init=function(t){e.init.call(this,"$"),this.cursor=t},t.htmlTemplate='<span class="mq-math-mode">&0</span>',t.createBlocks=function(){e.createBlocks.call(this),this.ends[y].cursor=this.cursor,this.ends[y].write=function(t,e){"$"!==e?G.prototype.write.call(this,t,e):this.isEmpty()?(t.insRightOf(this.parent),this.parent.deleteTowards(dir,t),V("\\$","$").createLeftOf(t.show())):t[1]?t[y]?G.prototype.write.call(this,t,e):t.insLeftOf(this.parent):t.insRightOf(this.parent)}},t.latex=function(){return"$"+this.ends[y].latex()+"$"}})),it=b(Z,(function(t,e){t.keystroke=function(t){if("Spacebar"!==t&&"Shift-Spacebar"!==t)return e.keystroke.apply(this,arguments)},t.write=function(t,e){var n;(t.show().deleteSelection(),"$"===e)?nt(t).createLeftOf(t):("<"===e?n="&lt;":">"===e&&(n="&gt;"),V(e,n).createLeftOf(t))}}));D.TextField=function(t){return b(t.EditableField,(function(t,e){this.RootBlock=it,t.__mathquillify=function(){return e.__mathquillify.call(this,"mq-editable-field mq-text-mode")},t.latex=function(t){return arguments.length>0?(this.__controller.renderLatexText(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}}))},O["\\"]=b(X,(function(t,e){t.ctrlSeq="\\",t.replaces=function(t){this._replacedFragment=t.disown(),this.isEmpty=function(){return!1}},t.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',t.textTemplate=["\\"],t.createBlocks=function(){e.createBlocks.call(this),this.ends[y].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[y].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[y].write=function(t,e){t.show().deleteSelection(),e.match(/[a-z]/i)?V(e).createLeftOf(t):(this.parent.renderCommand(t),"\\"===e&&this.isEmpty()||t.parent.write(t,e))},this.ends[y].keystroke=function(t,n,i){return"Tab"===t||"Enter"===t||"Spacebar"===t?(this.parent.renderCommand(i.cursor),void n.preventDefault()):e.keystroke.apply(this,arguments)}},t.createLeftOf=function(t){if(e.createLeftOf.call(this,t),this._replacedFragment){var n=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",(function(t){return w(t.target=n).trigger(t),!1})).insertBefore(this.jQ).add(this.jQ)}},t.latex=function(){return"\\"+this.ends[y].latex()+" "},t.renderCommand=function(t){this.jQ=this.jQ.last(),this.remove(),this[1]?t.insLeftOf(this[1]):t.insAtRightEnd(this.parent);var e=this.ends[y].latex();e||(e=" ");var n=E[e];n?(n=n(e),this._replacedFragment&&n.replaces(this._replacedFragment),n.createLeftOf(t)):((n=J()).replaces(e),n.createLeftOf(t),t.insRightOf(n),this._replacedFragment&&this._replacedFragment.remove())}})),E.notin=E.cong=E.equiv=E.oplus=E.otimes=b(Y,(function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}})),E["â "]=E.ne=E.neq=g(Y,"\\ne ","&ne;"),E["â"]=E.ast=E.star=E.loast=E.lowast=g(Y,"\\ast ","&lowast;"),E.therefor=E.therefore=g(Y,"\\therefore ","&there4;"),E.cuz=E.because=g(Y,"\\because ","&#8757;"),E.prop=E.propto=g(Y,"\\propto ","&prop;"),E["â"]=E.asymp=E.approx=g(Y,"\\approx ","&asymp;"),E.isin=E.in=g(Y,"\\in ","&isin;"),E.ni=E.contains=g(Y,"\\ni ","&ni;"),E.notni=E.niton=E.notcontains=E.doesnotcontain=g(Y,"\\not\\ni ","&#8716;"),E.sub=E.subset=g(Y,"\\subset ","&sub;"),E.sup=E.supset=E.superset=g(Y,"\\supset ","&sup;"),E.nsub=E.notsub=E.nsubset=E.notsubset=g(Y,"\\not\\subset ","&#8836;"),E.nsup=E.notsup=E.nsupset=E.notsupset=E.nsuperset=E.notsuperset=g(Y,"\\not\\supset ","&#8837;"),E.sube=E.subeq=E.subsete=E.subseteq=g(Y,"\\subseteq ","&sube;"),E.supe=E.supeq=E.supsete=E.supseteq=E.supersete=E.superseteq=g(Y,"\\supseteq ","&supe;"),E.nsube=E.nsubeq=E.notsube=E.notsubeq=E.nsubsete=E.nsubseteq=E.notsubsete=E.notsubseteq=g(Y,"\\not\\subseteq ","&#8840;"),E.nsupe=E.nsupeq=E.notsupe=E.notsupeq=E.nsupsete=E.nsupseteq=E.notsupsete=E.notsupseteq=E.nsupersete=E.nsuperseteq=E.notsupersete=E.notsuperseteq=g(Y,"\\not\\supseteq ","&#8841;"),E.mathbb=b(X,(function(t){t.createLeftOf=p,t.numBlocks=function(){return 1},t.parser=function(){var t=H.string,e=H.regex,n=H.optWhitespace;return n.then(t("{")).then(n).then(e(/^[NPZQRCH]/)).skip(n).skip(t("}")).map((function(t){return E[t]()}))}})),E.N=E.naturals=E.Naturals=g(V,"\\mathbb{N}","&#8469;"),E.P=E.primes=E.Primes=E.projective=E.Projective=E.probability=E.Probability=g(V,"\\mathbb{P}","&#8473;"),E.Z=E.integers=E.Integers=g(V,"\\mathbb{Z}","&#8484;"),E.Q=E.rationals=E.Rationals=g(V,"\\mathbb{Q}","&#8474;"),E.R=E.reals=E.Reals=g(V,"\\mathbb{R}","&#8477;"),E.C=E.complex=E.Complex=E.complexes=E.Complexes=E.complexplane=E.Complexplane=E.ComplexPlane=g(V,"\\mathbb{C}","&#8450;"),E.H=E.Hamiltonian=E.quaternions=E.Quaternions=g(V,"\\mathbb{H}","&#8461;"),E.quad=E.emsp=g(V,"\\quad ","    "),E.qquad=g(V,"\\qquad ","        "),E.diamond=g(V,"\\diamond ","&#9671;"),E.bigtriangleup=g(V,"\\bigtriangleup ","&#9651;"),E.ominus=g(V,"\\ominus ","&#8854;"),E.uplus=g(V,"\\uplus ","&#8846;"),E.bigtriangledown=g(V,"\\bigtriangledown ","&#9661;"),E.sqcap=g(V,"\\sqcap ","&#8851;"),E.triangleleft=g(V,"\\triangleleft ","&#8882;"),E.sqcup=g(V,"\\sqcup ","&#8852;"),E.triangleright=g(V,"\\triangleright ","&#8883;"),E.odot=E.circledot=g(V,"\\odot ","&#8857;"),E.bigcirc=g(V,"\\bigcirc ","&#9711;"),E.dagger=g(V,"\\dagger ","&#0134;"),E.ddagger=g(V,"\\ddagger ","&#135;"),E.wr=g(V,"\\wr ","&#8768;"),E.amalg=g(V,"\\amalg ","&#8720;"),E.models=g(V,"\\models ","&#8872;"),E.prec=g(V,"\\prec ","&#8826;"),E.succ=g(V,"\\succ ","&#8827;"),E.preceq=g(V,"\\preceq ","&#8828;"),E.succeq=g(V,"\\succeq ","&#8829;"),E.simeq=g(V,"\\simeq ","&#8771;"),E.mid=g(V,"\\mid ","&#8739;"),E.ll=g(V,"\\ll ","&#8810;"),E.gg=g(V,"\\gg ","&#8811;"),E.parallel=g(V,"\\parallel ","&#8741;"),E.nparallel=g(V,"\\nparallel ","&#8742;"),E.bowtie=g(V,"\\bowtie ","&#8904;"),E.sqsubset=g(V,"\\sqsubset ","&#8847;"),E.sqsupset=g(V,"\\sqsupset ","&#8848;"),E.smile=g(V,"\\smile ","&#8995;"),E.sqsubseteq=g(V,"\\sqsubseteq ","&#8849;"),E.sqsupseteq=g(V,"\\sqsupseteq ","&#8850;"),E.doteq=g(V,"\\doteq ","&#8784;"),E.frown=g(V,"\\frown ","&#8994;"),E.vdash=g(V,"\\vdash ","&#8870;"),E.dashv=g(V,"\\dashv ","&#8867;"),E.nless=g(V,"\\nless ","&#8814;"),E.ngtr=g(V,"\\ngtr ","&#8815;"),E.longleftarrow=g(V,"\\longleftarrow ","&#8592;"),E.longrightarrow=g(V,"\\longrightarrow ","&#8594;"),E.Longleftarrow=g(V,"\\Longleftarrow ","&#8656;"),E.Longrightarrow=g(V,"\\Longrightarrow ","&#8658;"),E.longleftrightarrow=g(V,"\\longleftrightarrow ","&#8596;"),E.updownarrow=g(V,"\\updownarrow ","&#8597;"),E.Longleftrightarrow=g(V,"\\Longleftrightarrow ","&#8660;"),E.Updownarrow=g(V,"\\Updownarrow ","&#8661;"),E.mapsto=g(V,"\\mapsto ","&#8614;"),E.nearrow=g(V,"\\nearrow ","&#8599;"),E.hookleftarrow=g(V,"\\hookleftarrow ","&#8617;"),E.hookrightarrow=g(V,"\\hookrightarrow ","&#8618;"),E.searrow=g(V,"\\searrow ","&#8600;"),E.leftharpoonup=g(V,"\\leftharpoonup ","&#8636;"),E.rightharpoonup=g(V,"\\rightharpoonup ","&#8640;"),E.swarrow=g(V,"\\swarrow ","&#8601;"),E.leftharpoondown=g(V,"\\leftharpoondown ","&#8637;"),E.rightharpoondown=g(V,"\\rightharpoondown ","&#8641;"),E.nwarrow=g(V,"\\nwarrow ","&#8598;"),E.ldots=g(V,"\\ldots ","&#8230;"),E.cdots=g(V,"\\cdots ","&#8943;"),E.vdots=g(V,"\\vdots ","&#8942;"),E.ddots=g(V,"\\ddots ","&#8945;"),E.surd=g(V,"\\surd ","&#8730;"),E.triangle=g(V,"\\triangle ","&#9651;"),E.ell=g(V,"\\ell ","&#8467;"),E.top=g(V,"\\top ","&#8868;"),E.flat=g(V,"\\flat ","&#9837;"),E.natural=g(V,"\\natural ","&#9838;"),E.sharp=g(V,"\\sharp ","&#9839;"),E.wp=g(V,"\\wp ","&#8472;"),E.bot=g(V,"\\bot ","&#8869;"),E.clubsuit=g(V,"\\clubsuit ","&#9827;"),E.diamondsuit=g(V,"\\diamondsuit ","&#9826;"),E.heartsuit=g(V,"\\heartsuit ","&#9825;"),E.spadesuit=g(V,"\\spadesuit ","&#9824;"),E.parallelogram=g(V,"\\parallelogram ","&#9649;"),E.square=g(V,"\\square ","&#11036;"),E.oint=g(V,"\\oint ","&#8750;"),E.bigcap=g(V,"\\bigcap ","&#8745;"),E.bigcup=g(V,"\\bigcup ","&#8746;"),E.bigsqcup=g(V,"\\bigsqcup ","&#8852;"),E.bigvee=g(V,"\\bigvee ","&#8744;"),E.bigwedge=g(V,"\\bigwedge ","&#8743;"),E.bigodot=g(V,"\\bigodot ","&#8857;"),E.bigotimes=g(V,"\\bigotimes ","&#8855;"),E.bigoplus=g(V,"\\bigoplus ","&#8853;"),E.biguplus=g(V,"\\biguplus ","&#8846;"),E.lfloor=g(V,"\\lfloor ","&#8970;"),E.rfloor=g(V,"\\rfloor ","&#8971;"),E.lceil=g(V,"\\lceil ","&#8968;"),E.rceil=g(V,"\\rceil ","&#8969;"),E.opencurlybrace=E.lbrace=g(V,"\\lbrace ","{"),E.closecurlybrace=E.rbrace=g(V,"\\rbrace ","}"),E.lbrack=g(V,"["),E.rbrack=g(V,"]"),E.slash=g(V,"/"),E.vert=g(V,"|"),E.perp=E.perpendicular=g(V,"\\perp ","&perp;"),E.nabla=E.del=g(V,"\\nabla ","&nabla;"),E.hbar=g(V,"\\hbar ","&#8463;"),E.AA=E.Angstrom=E.angstrom=g(V,"\\text\\AA ","&#8491;"),E.ring=E.circ=E.circle=g(V,"\\circ ","&#8728;"),E.bull=E.bullet=g(V,"\\bullet ","&bull;"),E.setminus=E.smallsetminus=g(V,"\\setminus ","&#8726;"),E.not=E["Â¬"]=E.neg=g(V,"\\neg ","&not;"),E["â¦"]=E.dots=E.ellip=E.hellip=E.ellipsis=E.hellipsis=g(V,"\\dots ","&hellip;"),E.converges=E.darr=E.dnarr=E.dnarrow=E.downarrow=g(V,"\\downarrow ","&darr;"),E.dArr=E.dnArr=E.dnArrow=E.Downarrow=g(V,"\\Downarrow ","&dArr;"),E.diverges=E.uarr=E.uparrow=g(V,"\\uparrow ","&uarr;"),E.uArr=E.Uparrow=g(V,"\\Uparrow ","&uArr;"),E.to=g(Y,"\\to ","&rarr;"),E.rarr=E.rightarrow=g(V,"\\rightarrow ","&rarr;"),E.implies=g(Y,"\\Rightarrow ","&rArr;"),E.rArr=E.Rightarrow=g(V,"\\Rightarrow ","&rArr;"),E.gets=g(Y,"\\gets ","&larr;"),E.larr=E.leftarrow=g(V,"\\leftarrow ","&larr;"),E.impliedby=g(Y,"\\Leftarrow ","&lArr;"),E.lArr=E.Leftarrow=g(V,"\\Leftarrow ","&lArr;"),E.harr=E.lrarr=E.leftrightarrow=g(V,"\\leftrightarrow ","&harr;"),E.iff=g(Y,"\\Leftrightarrow ","&hArr;"),E.hArr=E.lrArr=E.Leftrightarrow=g(V,"\\Leftrightarrow ","&hArr;"),E.Re=E.Real=E.real=g(V,"\\Re ","&real;"),E.Im=E.imag=E.image=E.imagin=E.imaginary=E.Imaginary=g(V,"\\Im ","&image;"),E.part=E.partial=g(V,"\\partial ","&part;"),E.infty=E.infin=E.infinity=g(V,"\\infty ","&infin;"),E.pounds=g(V,"\\pounds ","&pound;"),E.alef=E.alefsym=E.aleph=E.alephsym=g(V,"\\aleph ","&alefsym;"),E.xist=E.xists=E.exist=E.exists=g(V,"\\exists ","&exist;"),E.nexists=E.nexist=g(V,"\\nexists ","&#8708;"),E.and=E.land=E.wedge=g(Y,"\\wedge ","&and;"),E.or=E.lor=E.vee=g(Y,"\\vee ","&or;"),E.o=E.O=E.empty=E.emptyset=E.oslash=E.Oslash=E.nothing=E.varnothing=g(Y,"\\varnothing ","&empty;"),E.cup=E.union=g(Y,"\\cup ","&cup;"),E.cap=E.intersect=E.intersection=g(Y,"\\cap ","&cap;"),E.deg=E.degree=g(V,"\\degree ","&deg;"),E.ang=E.angle=g(V,"\\angle ","&ang;"),E.measuredangle=g(V,"\\measuredangle ","&#8737;");var rt=b(V,(function(t,e){t.createLeftOf=function(t){t.options.autoSubscriptNumerals&&t.parent!==t.parent.parent.sub&&(t[y]instanceof st&&!1!==t[y].isItalic||t[y]instanceof Ct&&t[y][y]instanceof st&&!1!==t[y][y].isItalic)?(E._().createLeftOf(t),e.createLeftOf.call(this,t),t.insRightOf(t.parent.parent)):e.createLeftOf.call(this,t)}})),st=b(K,(function(t,e){t.init=function(t,n){e.init.call(this,t,"<var>"+(n||t)+"</var>")},t.text=function(){var t=this.ctrlSeq;return this.isPartOfOperator?"\\"==t[0]?t=t.slice(1,t.length):" "==t[t.length-1]&&(t=t.slice(0,-1)):(!this[y]||this[y]instanceof st||this[y]instanceof Y||"\\ "===this[y].ctrlSeq||(t="*"+t),!this[1]||this[1]instanceof Y||this[1]instanceof Ct||(t+="*")),t}}));j.p.autoCommands={_maxLength:0},L.autoCommands=function(t){if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(var e=t.split(" "),n={},i=0,r=0;r<e.length;r+=1){var s=e[r];if(s.length<2)throw'autocommand "'+s+'" not minimum length of 2';if(E[s]===ut)throw'"'+s+'" is a built-in operator name';n[s]=1,i=u(i,s.length)}return n._maxLength=i,n};var ot=b(st,(function(t,e){function n(t){return!t||t instanceof Y||t instanceof Ot}t.init=function(t){return e.init.call(this,this.letter=t)},t.createLeftOf=function(t){e.createLeftOf.apply(this,arguments);var n=t.options.autoCommands,i=n._maxLength;if(i>0){for(var r="",s=this,o=0;s instanceof ot&&s.ctrlSeq===s.letter&&o<i;)r=s.letter+r,s=s[y],o+=1;for(;r.length;){if(n.hasOwnProperty(r)){for(o=1,s=this;o<r.length;o+=1,s=s[y]);return C(s,this).remove(),t[y]=s[y],E[r](r).createLeftOf(t)}r=r.slice(1)}}},t.italicize=function(t){return this.isItalic=t,this.isPartOfOperator=!t,this.jQ.toggleClass("mq-operator-name",!t),this},t.finalizeTree=t.siblingDeleted=t.siblingCreated=function(t,e){e!==y&&this[1]instanceof ot||this.autoUnItalicize(t)},t.autoUnItalicize=function(t){var e=t.autoOperatorNames;if(0!==e._maxLength){for(var i=this.letter,r=this[y];r instanceof ot;r=r[y])i=r.letter+i;for(var s=this[1];s instanceof ot;s=s[1])i+=s.letter;C(r[1]||this.parent.ends[y],s[y]||this.parent.ends[1]).each((function(t){t.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"),t.ctrlSeq=t.letter}));t:for(var o=0,a=r[1]||this.parent.ends[y];o<i.length;o+=1,a=a[1])for(var l=c(e._maxLength,i.length-o);l>0;l-=1){var u=i.slice(o,o+l);if(e.hasOwnProperty(u)){for(var p=0,h=a;p<l;p+=1,h=h[1]){h.italicize(!1);var f=h}var d=at.hasOwnProperty(u);if(a.ctrlSeq=(d?"\\":"\\operatorname{")+a.ctrlSeq,f.ctrlSeq+=d?" ":"}",ct.hasOwnProperty(u)&&f[y][y][y].jQ.addClass("mq-last"),n(a[y])||a.jQ.addClass("mq-first"),!n(f[1]))if(f[1]instanceof Ct){var m=f[1];(m.siblingCreated=m.siblingDeleted=function(){m.jQ.toggleClass("mq-after-operator-name",!(m[1]instanceof Nt))})()}else f.jQ.toggleClass("mq-last",!(f[1]instanceof Nt));o+=l-1,a=f;continue t}}}}})),at={},lt=j.p.autoOperatorNames={_maxLength:9},ct={limsup:1,liminf:1,projlim:1,injlim:1};!function(){for(var t="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),e=0;e<t.length;e+=1)at[t[e]]=lt[t[e]]=1;var n="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(e=0;e<n.length;e+=1)at[n[e]]=1;var i="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(e=0;e<i.length;e+=1)lt[i[e]]=lt["arc"+i[e]]=lt[i[e]+"h"]=lt["ar"+i[e]+"h"]=lt["arc"+i[e]+"h"]=1;var r="gcf hcf lcm proj span".split(" ");for(e=0;e<r.length;e+=1)lt[r[e]]=1}(),L.autoOperatorNames=function(t){if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(var e=t.split(" "),n={},i=0,r=0;r<e.length;r+=1){var s=e[r];if(s.length<2)throw'"'+s+'" not minimum length of 2';n[s]=1,i=u(i,s.length)}return n._maxLength=i,n};var ut=b(K,(function(t,e){t.init=function(t){this.ctrlSeq=t},t.createLeftOf=function(t){for(var e=this.ctrlSeq,n=0;n<e.length;n+=1)ot(e.charAt(n)).createLeftOf(t)},t.parser=function(){for(var t=this.ctrlSeq,e=G(),n=0;n<t.length;n+=1)ot(t.charAt(n)).adopt(e,e.ends[1],0);return H.succeed(e.children())}}));for(var pt in lt)lt.hasOwnProperty(pt)&&(E[pt]=ut);E.operatorname=b(X,(function(t){t.createLeftOf=p,t.numBlocks=function(){return 1},t.parser=function(){return $.block.map((function(t){return t.children()}))}})),E.f=b(ot,(function(t,e){t.init=function(){K.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},t.italicize=function(t){return this.jQ.html("f").toggleClass("mq-f",t),e.italicize.apply(this,arguments)}})),E[" "]=E.space=g(V,"\\ ","&nbsp;"),E["'"]=E.prime=g(V,"'","&prime;"),E["â³"]=E.dprime=g(V,"â³","&Prime;"),E.backslash=g(V,"\\backslash ","\\"),O["\\"]||(O["\\"]=E.backslash),E.$=g(V,"\\$","$");var ht=b(K,(function(t,e){t.init=function(t,n){e.init.call(this,t,'<span class="mq-nonSymbola">'+(n||t)+"</span>")}}));E["@"]=ht,E["&"]=g(ht,"\\&","&amp;"),E["%"]=g(ht,"\\%","%"),E.alpha=E.beta=E.gamma=E.delta=E.zeta=E.eta=E.theta=E.iota=E.kappa=E.mu=E.nu=E.xi=E.rho=E.sigma=E.tau=E.chi=E.psi=E.omega=b(st,(function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}})),E.phi=g(st,"\\phi ","&#981;"),E.phiv=E.varphi=g(st,"\\varphi ","&phi;"),E.epsilon=g(st,"\\epsilon ","&#1013;"),E.epsiv=E.varepsilon=g(st,"\\varepsilon ","&epsilon;"),E.piv=E.varpi=g(st,"\\varpi ","&piv;"),E.sigmaf=E.sigmav=E.varsigma=g(st,"\\varsigma ","&sigmaf;"),E.thetav=E.vartheta=E.thetasym=g(st,"\\vartheta ","&thetasym;"),E.upsilon=E.upsi=g(st,"\\upsilon ","&upsilon;"),E.gammad=E.Gammad=E.digamma=g(st,"\\digamma ","&#989;"),E.kappav=E.varkappa=g(st,"\\varkappa ","&#1008;"),E.rhov=E.varrho=g(st,"\\varrho ","&#1009;"),E.pi=E["Ï"]=g(ht,"\\pi ","&pi;"),E.lambda=g(ht,"\\lambda ","&lambda;"),E.Upsilon=E.Upsi=E.upsih=E.Upsih=g(K,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),E.Gamma=E.Delta=E.Theta=E.Lambda=E.Xi=E.Pi=E.Sigma=E.Phi=E.Psi=E.Omega=E.forall=b(V,(function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}));var ft=b(X,(function(t){t.init=function(t){this.latex=t},t.createLeftOf=function(t){var e=$.parse(this.latex);e.children().adopt(t.parent,t[y],t[1]),t[y]=e.ends[1],e.jQize().insertBefore(t.jQ),e.finalizeInsert(t.options,t),e.ends[1][1].siblingCreated&&e.ends[1][1].siblingCreated(t.options,y),e.ends[y][y].siblingCreated&&e.ends[y][y].siblingCreated(t.options,1),t.parent.bubble("reflow")},t.parser=function(){var t=$.parse(this.latex).children();return H.succeed(t)}}));E["Â¹"]=g(ft,"^1"),E["Â²"]=g(ft,"^2"),E["Â³"]=g(ft,"^3"),E["Â¼"]=g(ft,"\\frac14"),E["Â½"]=g(ft,"\\frac12"),E["Â¾"]=g(ft,"\\frac34");var dt=b(Y,(function(t){t.init=V.prototype.init,t.contactWeld=t.siblingCreated=t.siblingDeleted=function(t,e){if(1!==e)return this.jQ[0].className=function t(e){return e[y]?e[y]instanceof Y||/^[,;:\(\[]$/.test(e[y].ctrlSeq)?"":"mq-binary-operator":e.parent&&e.parent.parent&&e.parent.parent.isStyleBlock()?t(e.parent.parent):""}(this),this}}));E["+"]=g(dt,"+","+"),E["â"]=E["-"]=g(dt,"-","&minus;"),E["Â±"]=E.pm=E.plusmn=E.plusminus=g(dt,"\\pm ","&plusmn;"),E.mp=E.mnplus=E.minusplus=g(dt,"\\mp ","&#8723;"),O["*"]=E.sdot=E.cdot=g(Y,"\\cdot ","&middot;","*");var mt=b(Y,(function(t,e){t.init=function(t,n){this.data=t,this.strict=n;var i=n?"Strict":"";e.init.call(this,t["ctrlSeq"+i],t["html"+i],t["text"+i])},t.swap=function(t){this.strict=t;var e=t?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+e],this.jQ.html(this.data["html"+e]),this.textTemplate=[this.data["text"+e]]},t.deleteTowards=function(t,n){if(t===y&&!this.strict)return this.swap(!0),void this.bubble("reflow");e.deleteTowards.apply(this,arguments)}})),gt={ctrlSeq:"\\le ",html:"&le;",text:"â¤",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},vt={ctrlSeq:"\\ge ",html:"&ge;",text:"â¥",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};E["<"]=E.lt=g(mt,gt,!0),E[">"]=E.gt=g(mt,vt,!0),E["â¤"]=E.le=E.leq=g(mt,gt,!1),E["â¥"]=E.ge=E.geq=g(mt,vt,!1);var bt=b(Y,(function(t,e){t.init=function(){e.init.call(this,"=","=")},t.createLeftOf=function(t){if(t[y]instanceof mt&&t[y].strict)return t[y].swap(!1),void t[y].bubble("reflow");e.createLeftOf.apply(this,arguments)}}));E["="]=bt,E["Ã"]=E.times=g(Y,"\\times ","&times;","[x]"),E["Ã·"]=E.div=E.divide=E.divides=g(Y,"\\div ","&divide;","[/]"),O["~"]=E.sim=g(Y,"\\sim ","~","~");var yt,xt,wt=p,Tt=document.createElement("div").style;for(var kt in{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(kt in Tt){xt=kt;break}xt?yt=function(t,e,n){t.css(xt,"scale("+e+","+n+")")}:"filter"in Tt?(wt=function(t){t.className=t.className},yt=function(t,e,n){e/=1+(n-1)/2,t.css("fontSize",n+"em"),t.hasClass("mq-matrixed-container")||t.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>');var i=t.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+e+",SizingMethod='auto expand')");function r(){t.css("marginRight",(i.width()-1)*(e-1)/e+"px")}r();var s=setInterval(r);w(window).load((function(){clearTimeout(s),r()}))}):yt=function(t,e,n){t.css("fontSize",n+"em")};var qt=b(X,(function(t,e){t.init=function(t,n,i){e.init.call(this,t,"<"+n+" "+i+">&0</"+n+">")}}));E.mathrm=g(qt,"\\mathrm","span",'class="mq-roman mq-font"'),E.mathit=g(qt,"\\mathit","i",'class="mq-font"'),E.mathbf=g(qt,"\\mathbf","b",'class="mq-font"'),E.mathsf=g(qt,"\\mathsf","span",'class="mq-sans-serif mq-font"'),E.mathtt=g(qt,"\\mathtt","span",'class="mq-monospace mq-font"'),E.underline=g(qt,"\\underline","span",'class="mq-non-leaf mq-underline"'),E.overline=E.bar=g(qt,"\\overline","span",'class="mq-non-leaf mq-overline"'),E.overrightarrow=g(qt,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),E.overleftarrow=g(qt,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"'),E.overleftrightarrow=g(qt,"\\overleftrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-both"'),E.overarc=g(qt,"\\overarc","span",'class="mq-non-leaf mq-overarc"'),E.dot=b(X,(function(t,e){t.init=function(){e.init.call(this,"\\dot",'<span class="mq-non-leaf"><span class="mq-dot-recurring-inner"><span class="mq-dot-recurring">&#x2d9;</span><span class="mq-empty-box">&0</span></span></span>')}})),E.textcolor=b(X,(function(t,e){t.setColor=function(t){this.color=t,this.htmlTemplate='<span class="mq-textcolor" style="color:'+t+'">&0</span>'},t.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},t.parser=function(){var t=this,n=H.optWhitespace,i=H.string,r=H.regex;return n.then(i("{")).then(r(/^[#\w\s.,()%-]*/)).skip(i("}")).then((function(n){return t.setColor(n),e.parser.call(t)}))},t.isStyleBlock=function(){return!0}})),E.class=b(X,(function(t,e){t.parser=function(){var t=this,n=H.string,i=H.regex;return H.optWhitespace.then(n("{")).then(i(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then((function(n){return t.cls=n||"",t.htmlTemplate='<span class="mq-class '+n+'">&0</span>',e.parser.call(t)}))},t.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},t.isStyleBlock=function(){return!0}}));var Ct=b(X,(function(t,e){t.ctrlSeq="_{...}^{...}",t.createLeftOf=function(t){if(this.replacedFragment||t[y]||!t.options.supSubsRequireOperand)return e.createLeftOf.apply(this,arguments)},t.contactWeld=function(t){for(var e=y;e;e=e===y&&1)if(this[e]instanceof Ct){for(var n="sub";n;n="sub"===n&&"sup"){var i=this[n],r=this[e][n];if(i){if(r)if(i.isEmpty())o=T(r,0,r.ends[y]);else{i.jQ.children().insAtDirEnd(-e,r.jQ);var s=i.children().disown(),o=T(r,s.ends[1],r.ends[y]);e===y?s.adopt(r,r.ends[1],0):s.adopt(r,0,r.ends[y])}else this[e].addBlock(i.disown());this.placeCursor=function(t,n){return function(i){i.insAtDirEnd(-e,t||n)}}(r,i)}}this.remove(),t&&t[y]===this&&(1===e&&o?o[y]?t.insRightOf(o[y]):t.insAtLeftEnd(o.parent):t.insRightOf(this[e]));break}},j.p.charsThatBreakOutOfSupSub="",t.finalizeTree=function(){this.ends[y].write=function(t,e){if(t.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===e)return;var n=this.chToCmd(e,t.options);return n instanceof K?t.deleteSelection():t.clearSelection().insRightOf(this.parent),n.createLeftOf(t.show())}t[y]&&!t[1]&&!t.selection&&t.options.charsThatBreakOutOfSupSub.indexOf(e)>-1&&t.insRightOf(this.parent),G.p.write.apply(this,arguments)}},t.moveTowards=function(t,n,i){n.options.autoSubscriptNumerals&&!this.sup?n.insDirOf(t,this):e.moveTowards.apply(this,arguments)},t.deleteTowards=function(t,n){if(n.options.autoSubscriptNumerals&&this.sub){var i=this.sub.ends[-t];i instanceof K?i.remove():i&&i.deleteTowards(t,n.insAtDirEnd(-t,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(y,n.insAtLeftEnd(this.sub)),this.sup&&n.insDirOf(-t,this))}else e.deleteTowards.apply(this,arguments)},t.latex=function(){function t(t,e){var n=e&&e.latex();return e?t+(1===n.length?n:"{"+(n||" ")+"}"):""}return t("_",this.sub)+t("^",this.sup)},t.text=function(){function t(t,e){var n=e&&e.text();return e?t+(1===n.length?n:"("+(n||" ")+")"):""}return t("_",this.sub)+t("^",this.sup)},t.addBlock=function(t){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=t,t.adopt(this,this.sub,0).downOutOf=this.sub,t.jQ=w('<span class="mq-sup"/>').append(t.jQ.children()).attr(l,t.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=t,t.adopt(this,0,this.sup).upOutOf=this.sup,t.jQ=w('<span class="mq-sub"></span>').append(t.jQ.children()).attr(l,t.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var e=0;e<2;e+=1)!function(t,e,n,i){t[e].deleteOutOf=function(r,s){if(s.insDirOf(this[r]?-r:r,this.parent),!this.isEmpty()){var o=this.ends[r];this.children().disown().withDirAdopt(r,s.parent,s[r],s[-r]).jQ.insDirOf(-r,s.jQ),s[-r]=o}t.supsub=n,delete t[e],delete t[i+"Into"],t[n][i+"OutOf"]=Et,delete t[n].deleteOutOf,"sub"===e&&w(t.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}}(this,"sub sup".split(" ")[e],"sup sub".split(" ")[e],"down up".split(" ")[e])},t.reflow=function(){var t=this.jQ,e=t.prev();if(e.length){var n=t.children(".mq-sup");if(n.length){var i=parseInt(n.css("font-size")),r=n.offset().top+n.height()-e.offset().top-.7*i,s=parseInt(n.css("margin-bottom"));n.css("margin-bottom",s+r)}}}}));function Et(t){var e=this.parent,n=t;do{if(n[1])return t.insLeftOf(e);n=n.parent.parent}while(n!==e);t.insRightOf(e)}E.subscript=E._=b(Ct,(function(t,e){t.supsub="sub",t.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["_"],t.finalizeTree=function(){this.downInto=this.sub=this.ends[y],this.sub.upOutOf=Et,e.finalizeTree.call(this)}})),E.superscript=E.supscript=E["^"]=b(Ct,(function(t,e){t.supsub="sup",t.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',t.textTemplate=["^(",")"],t.finalizeTree=function(){this.upInto=this.sup=this.ends[1],this.sup.downOutOf=Et,e.finalizeTree.call(this)}}));var Ot=b(X,(function(t,e){t.init=function(t,e){var n='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+e+'</big><span class="mq-from"><span>&0</span></span></span>';K.prototype.init.call(this,t,n)},t.createLeftOf=function(t){e.createLeftOf.apply(this,arguments),t.options.sumStartsWithNEquals&&(ot("n").createLeftOf(t),bt().createLeftOf(t))},t.latex=function(){function t(t){return 1===t.length?t:"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[y].latex())+"^"+t(this.ends[1].latex())},t.parser=function(){for(var t=H.string,e=H.optWhitespace,n=H.succeed,i=$.block,r=this,s=r.blocks=[G(),G()],o=0;o<s.length;o+=1)s[o].adopt(r,r.ends[1],0);return e.then(t("_").or(t("^"))).then((function(t){var e=s["_"===t?0:1];return i.then((function(t){return t.children().adopt(e,e.ends[1],0),n(r)}))})).many().result(r)},t.finalizeTree=function(){this.downInto=this.ends[y],this.upInto=this.ends[1],this.ends[y].upOutOf=this.ends[1],this.ends[1].downOutOf=this.ends[y]}}));E["â"]=E.sum=E.summation=g(Ot,"\\sum ","&sum;"),E["â"]=E.prod=E.product=g(Ot,"\\prod ","&prod;"),E.coprod=E.coproduct=g(Ot,"\\coprod ","&#8720;"),E["â«"]=E.int=E.integral=b(Ot,(function(t,e){t.init=function(){K.prototype.init.call(this,"\\int ",'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>')},t.createLeftOf=X.p.createLeftOf}));var _t=E.frac=E.dfrac=E.cfrac=E.fraction=b(X,(function(t,e){t.ctrlSeq="\\frac",t.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["(",")/(",")"],t.finalizeTree=function(){this.upInto=this.ends[1].upOutOf=this.ends[y],this.downInto=this.ends[y].downOutOf=this.ends[1]}})),St=E.over=O["/"]=b(_t,(function(t,e){t.createLeftOf=function(t){if(!this.replacedFragment){for(var n=t[y];n&&!(n instanceof Y||n instanceof(E.text||p)||n instanceof Ot||"\\ "===n.ctrlSeq||/^[,;:]$/.test(n.ctrlSeq));)n=n[y];n instanceof Ot&&n[1]instanceof Ct&&(n=n[1])[1]instanceof Ct&&n[1].ctrlSeq!=n.ctrlSeq&&(n=n[1]),n===t[y]||t.isTooDeep(1)||(this.replaces(C(n[1]||t.parent.ends[y],t[y])),t[y]=n)}e.createLeftOf.call(this,t)}})),At=E.sqrt=E["â"]=b(X,(function(t,e){t.ctrlSeq="\\sqrt",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',t.textTemplate=["sqrt(",")"],t.parser=function(){return $.optBlock.then((function(t){return $.block.map((function(e){var n=Dt();return n.blocks=[t,e],t.adopt(n,0,0),e.adopt(n,t,0),n}))})).or(e.parser.call(this))},t.reflow=function(){var t=this.ends[1].jQ;yt(t.prev(),1,t.innerHeight()/+t.css("fontSize").slice(0,-2)-.1)}}));E.hat=b(X,(function(t,e){t.ctrlSeq="\\hat",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-hat-prefix">^</span><span class="mq-hat-stem">&0</span></span>',t.textTemplate=["hat(",")"]}));var Dt=E.nthroot=b(At,(function(t,e){t.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',t.textTemplate=["sqrt[","](",")"],t.latex=function(){return"\\sqrt["+this.ends[y].latex()+"]{"+this.ends[1].latex()+"}"}})),jt=b(X,(function(t,e){t.init=function(t,n,i){var r='<span class="mq-non-leaf"><span class="mq-diacritic-above">'+n+'</span><span class="mq-diacritic-stem">&0</span></span>';e.init.call(this,t,r,i)}}));function Lt(t,e){t.jQadd=function(){e.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},t.reflow=function(){var t=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));yt(this.delimjQs,c(1+.2*(t-1),1.2),1.2*t)}}E.vec=g(jt,"\\vec","&rarr;",["vec(",")"]),E.tilde=g(jt,"\\tilde","~",["tilde(",")"]);var Nt=b(b(X,Lt),(function(t,e){t.init=function(t,n,i,r,o){e.init.call(this,"\\left"+r,s,[n,i]),this.side=t,this.sides={},this.sides[y]={ch:n,ctrlSeq:r},this.sides[1]={ch:i,ctrlSeq:o}},t.numBlocks=function(){return 1},t.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(1===this.side?" mq-ghost":"")+'">'+this.sides[y].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===y?" mq-ghost":"")+'">'+this.sides[1].ch+"</span></span>",e.html.call(this)},t.latex=function(){return"\\left"+this.sides[y].ctrlSeq+this.ends[y].latex()+"\\right"+this.sides[1].ctrlSeq},t.matchBrack=function(t,e,n){return n instanceof Nt&&n.side&&n.side!==-e&&(!t.restrictMismatchedBrackets||Mt[this.sides[this.side].ch]===n.sides[n.side].ch||{"(":"]","[":")"}[this.sides[y].ch]===n.sides[1].ch)&&n},t.closeOpposing=function(t){t.side=0,t.sides[this.side]=this.sides[this.side],t.delimjQs.eq(this.side===y?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},t.createLeftOf=function(t){if(!this.replacedFragment){var n=t.options;if("|"===this.sides[y].ch)var i=this.matchBrack(n,1,t[1])||this.matchBrack(n,y,t[y])||this.matchBrack(n,0,t.parent.parent);else i=this.matchBrack(n,-this.side,t[-this.side])||this.matchBrack(n,-this.side,t.parent.parent)}if(i){var r=this.side=-i.side;this.closeOpposing(i),i===t.parent.parent&&t[r]&&C(t[r],t.parent.ends[r],-r).disown().withDirAdopt(-r,i.parent,i,i[r]).jQ.insDirOf(r,i.jQ),i.bubble("reflow")}else r=(i=this).side,i.replacedFragment?i.side=0:t[-r]&&(i.replaces(C(t[-r],t.parent.ends[-r],r)),t[-r]=0),e.createLeftOf.call(i,t);r===y?t.insAtLeftEnd(i.ends[y]):t.insRightOf(i)},t.placeCursor=p,t.unwrap=function(){this.ends[y].children().disown().adopt(this.parent,this,this[1]).jQ.insertAfter(this.jQ),this.remove()},t.deleteSide=function(t,e,n){var i=this.parent,r=this[t],s=i.ends[t];if(t===this.side)return this.unwrap(),void(r?n.insDirOf(-t,r):n.insAtDirEnd(t,i));var o=n.options,a=!this.side;if(this.side=-t,this.matchBrack(o,t,this.ends[y].ends[this.side])){this.closeOpposing(this.ends[y].ends[this.side]);var l=this.ends[y].ends[t];this.unwrap(),l.siblingCreated&&l.siblingCreated(n.options,t),r?n.insDirOf(-t,r):n.insAtDirEnd(t,i)}else{if(this.matchBrack(o,t,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(e&&a)return this.unwrap(),void(r?n.insDirOf(-t,r):n.insAtDirEnd(t,i));this.sides[t]={ch:Mt[this.sides[this.side].ch],ctrlSeq:Mt[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(t===y?0:1).addClass("mq-ghost").html(this.sides[t].ch)}if(r){l=this.ends[y].ends[t];C(r,s,-t).disown().withDirAdopt(-t,this.ends[y],l,0).jQ.insAtDirEnd(t,this.ends[y].jQ.removeClass("mq-empty")),l.siblingCreated&&l.siblingCreated(n.options,t),n.insDirOf(-t,r)}else e?n.insDirOf(t,this):n.insAtDirEnd(t,this.ends[y])}},t.deleteTowards=function(t,e){this.deleteSide(-t,!1,e)},t.finalizeTree=function(){this.ends[y].deleteOutOf=function(t,e){this.parent.deleteSide(t,!0,e)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===y?1:0).removeClass("mq-ghost"),this.side=0}},t.siblingCreated=function(t,e){e===-this.side&&this.finalizeTree()}})),Mt={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "};function It(t,e){e=e||t;var n=Mt[t],i=Mt[e];O[t]=g(Nt,y,t,n,e,i),O[n]=g(Nt,1,t,n,e,i)}It("("),It("["),It("{","\\{"),E.langle=g(Nt,y,"&lang;","&rang;","\\langle ","\\rangle "),E.rangle=g(Nt,1,"&lang;","&rang;","\\langle ","\\rangle "),O["|"]=g(Nt,y,"|","|","|","|"),E.lVert=g(Nt,y,"&#8741;","&#8741;","\\lVert ","\\rVert "),E.rVert=g(Nt,1,"&#8741;","&#8741;","\\lVert ","\\rVert "),E.left=b(X,(function(t){t.parser=function(){var t=H.regex,e=H.string;H.succeed;var n=H.optWhitespace;return n.then(t(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then((function(i){var r="\\"===i.charAt(0)?i.slice(1):i;return"\\langle"==i&&(r="&lang;",i+=" "),"\\lVert"==i&&(r="&#8741;",i+=" "),$.then((function(s){return e("\\right").skip(n).then(t(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map((function(t){var e="\\"===t.charAt(0)?t.slice(1):t;"\\rangle"==t&&(e="&rang;",t+=" "),"\\rVert"==t&&(e="&#8741;",t+=" ");var n=Nt(0,r,e,i,t);return n.blocks=[s],s.adopt(n,0,0),n}))}))}))}})),E.right=b(X,(function(t){t.parser=function(){return H.fail("unmatched \\right")}}));var Rt=E.binom=E.binomial=b(b(X,Lt),(function(t,e){t.ctrlSeq="\\binom",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',t.textTemplate=["choose(",",",")"]}));E.choose=b(Rt,(function(t){t.createLeftOf=St.prototype.createLeftOf})),E.editable=E.MathQuillMathField=b(X,(function(t,e){t.ctrlSeq="\\MathQuillMathField",t.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',t.parser=function(){var t=this,n=H.string,i=H.regex,r=H.succeed;return n("[").then(i(/^[a-z][a-z0-9]*/i)).skip(n("]")).map((function(e){t.name=e})).or(r()).then(e.parser.call(t))},t.finalizeTree=function(t){var e=A(this.ends[y],this.jQ,t);e.KIND_OF_MQ="MathField",e.editable=!0,e.createTextarea(),e.editablesTextareaEvents(),e.cursor.insAtRightEnd(e.root),F(e.root)},t.registerInnerField=function(t,e){t.push(t[this.name]=e(this.ends[y].controller))},t.latex=function(){return this.ends[y].latex()},t.text=function(){return this.ends[y].text()}}));var Pt=E.embed=b(K,(function(t,e){t.setOptions=function(t){function e(){return""}return this.text=t.text||e,this.htmlTemplate=t.htmlString||"",this.latex=t.latex||e,this},t.parser=function(){var t=this,e=H.string,n=H.regex,i=H.succeed;return e("{").then(n(/^[a-z][a-z0-9]*/i)).skip(e("}")).then((function(r){return e("[").then(n(/^[-\w\s]*/)).skip(e("]")).or(i()).map((function(e){return t.setOptions(M[r](e))}))}))}})),Qt=z(1);for(var zt in Qt)!function(t,e){"function"==typeof e?(R[t]=function(){return I(),e.apply(this,arguments)},R[t].prototype=e.prototype):R[t]=e}(zt,Qt[zt]);const Ft=R.getInterface(2);let Bt,Ht=new Promise((t=>Bt=t));document.addEventListener("DOMContentLoaded",Bt);var Wt=1e-6;async function $t(t){await Ht,i(".tr").css("display","none"),i(".tr."+t).css("display","initial"),function(t,e,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="expires="+i.toUTCString();document.cookie=t+"="+e+";"+r+";path=/"}("lang",t,7)}let Ut=!1;async function Xt(){var t=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}("lang")||"de";console.log("switch to lang: "+t),await $t(t)}const Kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vt="eighqDNYAL";var Yt,Gt,Zt=[];function Jt(t,e,n){var i=Kt.indexOf(n),r=Zt[t][e][i];return Kt[r]}function te(t,e,n){for(var i="",r=n.length,s=0;s<r;s++)i+=Jt(t,e,n[s]);return i}function ee(t){var e;e=Yt==t?Gt:Math.floor(10*Math.random());var n=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})));return Yt=t,Gt=e,Vt[e]+te(0,e,n)}function ne(t){var e=te(1,Vt.indexOf(t.substr(0,1)),t.substr(1));return decodeURIComponent(atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function ie(){this.id=-1,this.parent=0,this.children=[],this.type="space",this.content="",this.value="u"}function re(t,e,n){var i=n.nodelist,r=n.listOfFree||[],s="";return 0===r.length?((s=new ie).type=t,s.content=e,i.push(s),s.id=i.length-1,s):((s=i[r.pop()]).type=t,s.content=e,s.children=[],s)}Zt[0]=[],Zt[1]=[],Zt[0][0]=[0,16,20,40,55,60,33,41,62,56,8,36,19,22,15,38,23,13,61,52,4,58,46,59,2,21,24,17,64,29,37,18,27,50,32,35,9,57,49,14,43,11,48,5,28,25,39,63,3,34,51,12,1,45,42,7,31,10,54,26,44,53,47,30,6],Zt[1][0]=[0,52,24,48,20,43,64,55,10,36,57,41,51,17,39,14,1,27,31,12,2,25,13,16,26,45,59,32,44,29,63,56,34,6,49,35,11,30,15,46,3,7,54,40,60,53,22,62,42,38,33,50,19,61,58,4,9,37,21,23,5,18,8,47,28],Zt[0][1]=[15,51,47,39,10,30,44,26,63,62,17,45,24,54,33,11,56,37,2,14,40,19,43,36,38,34,9,29,4,58,48,59,13,52,1,8,18,57,61,6,32,49,42,5,12,50,21,46,20,16,28,64,22,3,27,35,53,0,31,41,60,25,23,7,55],Zt[1][1]=[57,34,18,53,28,43,39,63,35,26,4,15,44,32,19,0,49,10,36,21,48,46,52,62,12,61,7,54,50,27,5,58,40,14,25,55,23,17,24,3,20,59,42,22,6,11,47,2,30,41,45,1,33,56,13,64,16,37,29,31,60,38,9,8,51],Zt[0][2]=[6,20,8,31,48,21,43,16,10,9,44,51,14,58,54,0,41,45,64,35,39,5,52,59,53,7,62,25,60,33,61,28,15,36,50,17,22,34,38,37,56,29,18,40,57,63,4,32,26,46,19,23,12,1,24,27,49,47,42,30,3,2,11,55,13],Zt[1][2]=[15,53,61,60,46,21,0,25,2,9,8,62,52,64,12,32,7,35,42,50,1,5,36,51,54,27,48,55,31,41,59,3,47,29,37,19,33,39,38,20,43,16,58,6,10,17,49,57,4,56,34,11,22,24,14,63,40,44,13,23,28,30,26,45,18],Zt[0][3]=[42,17,22,13,49,50,30,1,14,2,64,28,60,54,57,10,25,7,61,26,8,59,43,19,35,18,58,33,6,38,5,62,34,16,11,27,9,29,24,44,41,45,23,3,46,63,31,40,53,0,47,21,51,32,36,12,55,15,56,52,48,37,4,39,20],Zt[1][3]=[49,7,9,43,62,30,28,17,20,36,15,34,55,3,8,57,33,1,25,23,64,51,2,42,38,16,19,35,11,37,6,46,53,27,32,24,54,61,29,63,47,40,0,22,39,41,44,50,60,4,5,52,59,48,13,56,58,14,26,21,12,18,31,45,10],Zt[0][4]=[41,6,40,24,38,36,59,25,48,47,19,29,31,60,17,16,56,12,52,33,21,43,57,50,34,51,8,55,42,32,54,4,23,26,1,22,63,28,10,64,7,30,14,27,46,44,9,61,62,49,45,18,39,35,53,3,13,5,0,58,37,20,2,15,11],Zt[1][4]=[58,34,62,55,31,57,1,40,26,46,38,64,17,56,42,63,15,14,51,10,61,20,35,32,3,7,33,43,37,11,41,12,29,19,24,53,5,60,4,52,2,0,28,21,45,50,44,9,8,49,23,25,18,54,30,27,16,22,59,6,13,47,48,36,39],Zt[0][5]=[51,3,48,22,40,52,15,54,32,5,61,29,8,36,12,23,20,1,62,46,0,64,43,34,58,30,26,56,11,50,4,39,47,24,14,59,10,28,21,53,41,35,42,16,45,31,17,7,37,9,18,13,6,38,25,49,33,27,44,63,60,19,2,57,55],Zt[1][5]=[20,17,62,1,30,9,52,47,12,49,36,28,14,51,34,6,43,46,50,61,16,38,3,15,33,54,26,57,37,11,25,45,8,56,23,41,13,48,53,31,4,40,42,22,58,44,19,32,2,55,29,0,5,39,7,64,27,63,24,35,60,10,18,59,21],Zt[0][6]=[62,21,8,33,20,12,49,56,15,60,38,26,54,46,5,16,19,44,34,41,63,23,22,13,39,0,14,57,42,27,45,6,51,55,1,32,52,18,24,30,36,43,3,10,4,37,28,58,64,31,47,29,35,48,11,40,50,53,9,25,61,7,17,59,2],Zt[1][6]=[25,34,64,42,44,14,31,61,2,58,43,54,5,23,26,8,15,62,37,16,4,1,22,21,38,59,11,29,46,51,39,49,35,3,18,52,40,45,10,24,55,19,28,41,17,30,13,50,53,6,56,32,36,57,12,33,7,27,47,63,9,60,0,20,48],Zt[0][7]=[60,26,3,48,16,27,13,14,30,21,53,8,12,54,45,46,20,11,42,39,61,47,52,43,31,38,57,40,28,6,25,1,2,7,23,36,58,10,29,9,55,22,44,19,0,64,56,41,18,32,17,35,5,62,4,50,37,59,34,15,49,24,33,63,51],Zt[1][7]=[44,31,32,2,54,52,29,33,11,39,37,17,12,6,7,59,4,50,48,43,16,9,41,34,61,30,1,5,28,38,8,24,49,62,58,51,35,56,25,19,27,47,18,23,42,14,15,21,3,60,55,64,22,10,13,40,46,26,36,57,0,20,53,63,45],Zt[0][8]=[58,28,2,60,29,54,37,40,6,50,62,19,35,63,31,44,30,17,48,22,41,0,11,38,32,13,46,57,39,23,15,3,16,5,64,10,56,27,42,20,61,34,43,45,1,49,33,51,52,14,25,53,24,7,21,26,59,36,12,8,9,55,4,47,18],Zt[1][8]=[21,44,2,31,62,33,8,53,59,60,35,22,58,25,49,30,32,17,64,11,39,54,19,29,52,50,55,37,1,4,16,14,24,46,41,12,57,6,23,28,7,20,38,42,15,43,26,63,18,45,9,47,48,51,5,61,36,27,0,56,3,40,10,13,34],Zt[0][9]=[53,64,29,11,26,0,20,21,48,19,5,60,14,59,4,61,58,9,44,63,3,49,33,22,2,35,31,18,28,41,40,50,7,46,34,56,24,32,13,42,30,45,47,54,15,38,8,16,12,23,52,51,39,17,62,36,25,1,37,10,57,6,43,55,27],Zt[1][9]=[5,57,24,20,14,10,61,32,46,17,59,3,48,38,12,44,47,53,27,9,6,7,23,49,36,56,4,64,28,2,40,26,37,22,34,25,55,58,45,52,30,29,39,62,18,41,33,42,8,21,31,51,50,0,43,63,35,60,16,13,11,15,54,19,1],ie.prototype.addBracket=function(t){var e=function(t){var e,n=-1,i="nothing",r=pe(t,"(");(e=r[0])>-1&&(-1===n||e<n)&&(n=e,i=r[1]);r=pe(t,"["),(e=r[0])>-1&&(-1===n||e<n)&&(n=e,i=r[1]);r=pe(t,"{"),(e=r[0])>-1&&(-1===n||e<n)&&(n=e,i=r[1]);r=pe(t,"|"),(e=r[0])>-1&&(-1===n||e<n)&&(n=e,i=r[1]);return[n,i]}(this.content),n=e[0],i=e[1],r=(p=he(this.content,i)).leftPos,s=p.bracketLength,o=p.rightPos,a=p.rightBracketLength;if(n!==r)throw"Inconsistent left positions ";if(n>-1&&o>-1){var l=this.content.substring(0,n),c=this.content.substring(n+s,o),u=this.content.substring(o+a);this.content=l+"Â§"+u;var p=re("bracket-"+i,"",t),h=re("leaf",c,t);" "==c&&(h.type="empty"),this.children.push(p.id),p.parent=this.id,p.children.push(h.id),h.parent=p.id}else n=-1;return n},ie.prototype.debug=function(){var t=this.id+": parent="+this.parent;return t+=" children="+this.children,t+=" type="+this.type,t+=" content="+this.content,console.debug(t),t};class se{constructor(){this.listOfFree=[],this.nodelist=[],this.nodelist[0]=new ie,this.root=this.nodelist[0],this.root.type="root",this.root.id=0,this.root.parent=-1,this.leaf=new ie,this.leaf.type="leaf",this.leaf.content="my first leaf",this.nodelist[1]=this.leaf,this.leaf.id=1,this.leaf.parent=this.root.id,this.root.children=[this.leaf.id],this.hasValue=!1,this.variableValueList=[]}}function oe(t,e){var n=0,i=!1,r=t.nodelist;do{e(r[n]),++n===t.nodelist.length&&(i=!0)}while(!1===i)}function ae(t,e){oe(t,(function(t){"leaf"==t.type&&e(t)}))}function le(t,e){oe(t,(function(t){"leaf"!=t.type&&"greek"!=t.type||e(t)}))}function ce(t,e){var n=!1,i=!1;do{"unit"==e.type?(n=!0,i=!0):"root"==(e=t.nodelist[e.parent]).type&&(i=!0)}while(!1===i);return n}function ue(t){oe(t,(function(e){if("Â§"===e.content&&1===e.children.length&&"free"!==e.type){var n=t.nodelist[e.parent].children,i=n.indexOf(e.id);n[i]=e.children[0],t.nodelist[e.children[0]].parent=e.parent,e.type="free",t.listOfFree.push(e.id)}}))}function pe(t,e){var n,i="\\left"+e;"{"===e&&(i="\\left\\{");var r=-1,s="nothing";n=t.indexOf(i);var o=t;if(n>=0){r=n,s=i;var a=!1;n=-1;do{if(-1===(n=o.indexOf(i,n+1)))a=!0;else{var l;l=n>0?o.substring(0,n-1):"";var c="\\left@";"\\{"===e&&(c="\\left\\@");var u=o.substring(n+i.length);o=l+c+u}}while(!1===a)}return(n=o.indexOf(e))>=0&&(-1===r||n<r)&&(r=n,s=e),[r,s]}function he(t,e){var n,i;i=-1===(n=["(","[","{","|","\\left(","\\left[","\\left\\{","\\left|"].indexOf(e))?"no bracket found error":[")","]","}","|","\\right)","\\right]","\\right\\}","\\right|"][n];for(var r=!1,s=[],o=0;o<t.length;o++)s[o]=0;var a=-1,l=-1;n=-1;do{-1===(n=t.indexOf(e,n+1))?r=!0:(s[n]=1,-1===a&&(a=n))}while(!1===r);n=-1,r=!1;do{-1===(n=t.indexOf(i,n+1))?r=!0:s[n]=-1}while(!1===r);for(o=1;o<t.length;o++){var c=s[o-1]+s[o];if(-1===s[o]&&0===c){l=o;break}s[o]=c}return{leftPos:a,bracketLength:e.length,rightPos:l,rightBracketLength:i.length}}function fe(t,e){var n=-1,i="+",r="-";"equal"===e&&(i="=",r="@%"),"timesdivided"===e&&(i="\\cdot",r=":"),"invisibleTimes"===e&&(i="*",r="@%"),"power"===e&&(i="^",r="@%"),"sub"===e&&(i="_",r="@%");var s=i.length,o=r.length;ae(t,(function(a){var l=!0;do{var c=a.content.lastIndexOf(i),u=a.content.lastIndexOf(r),p=!1;if(-1===c&&-1===u?n=-1:(-1===c&&(n=u),-1===u&&(n=c,p=!0),c>-1&&u>-1&&(p=!0,u>(n=c)&&(n=u,p=!1))),-1===n)l=!1;else{var h,f,d;h=a.content.substring(0,n),p?(f=a.content.substring(n,n+s),d=a.content.substring(n+s)):(f=a.content.substring(n,n+o),d=a.content.substring(n+o));var m=(h.match(/Â§/g)||[]).length,g=(d.match(/Â§/g)||[]).length,v=m+g===a.children.length;a.type.startsWith("definite")&&(v=m+g===a.children.length-2),!1===v&&console.warn("(remove operators) Wrong number of bracket markers");var b,y,x=a.children;b=m>0?x.slice(0,m):[],y=g>0?x.slice(m,x.length):[];var w=re("plusminus",f,t);"equal"===e&&(w.type="equal"),"timesdivided"===e&&(w.type="timesdivided"),"invisibleTimes"===e&&(w.type="*",w.content=""),"power"===e&&(w.type="power"),"sub"===e&&(w.type="sub");var T=re("leaf",d,t);""==T.content&&(T.content="0",T.type="invisible_zero");var k=t.nodelist[a.parent].children.indexOf(a.id);t.nodelist[a.parent].children[k]=w.id,w.parent=a.parent,a.content=h,""==a.content&&(a.content="0",a.type="invisible_zero"),a.parent=w.id,T.parent=w.id,w.children=[a.id,T.id],a.children=b,T.children=y;for(var q=0;q<y.length;q++)t.nodelist[y[q]].parent=T.id}}while(1==l)}))}ie.prototype.isRightmostChild=function(t){if(0===this.id)return!1;var e=t[this.parent].children,n=e[e.length-1];return this.id===n};let de={counter:0,getCounter(){return this.counter},setCounter(t){this.counter=t},inc(){this.counter++}};function me(t){de.inc();var e,n=!1,i="";switch(de.getCounter()){case 1:i="delete spaces and remove backslash at \\min",t.leaf.content=(e=t.leaf.content,(e=String(e)).replace(/\\\s/g,"").replace(/\\min/g,"min").replace(/\\max/g,"max").replace(/\\cdot/g,"\\cdot ").replace(/\\cdot {2}/g,"\\cdot ")),t.leaf.content=function(t){t=t.replace(/''/g,"â");var e=RegExp("((\\d+(\\.|\\,))?\\d+)([Â°'â]+)","g");let n,i=0,r="â±",s=[r],o=[r],a=[r];var l=!1;do{if(null!==(n=e.exec(t))){var c=t.substring(i,n.index);""!==c&&(s.push(r),o.push(r),a.push(r)),s.push(c),o.push(n[1]),a.push(n[4]),i=e.lastIndex}else l=!0}while(0==l);c=t.substring(i),s.push(c),o.push(""),a.push("");var u=a.join("")+r,p=[];p.push(RegExp("â±Â°'ââ±","g")),p.push(RegExp("â±'ââ±","g")),p.push(RegExp("â±Â°ââ±","g")),p.push(RegExp("â±Â°'â±","g")),p.push(RegExp("â±Â°â±","g")),p.push(RegExp("â±'â±","g")),p.push(RegExp("â±ââ±","g"));for(var h=0;h<p.length;h++){e=p[h],l=!1;do{if(null!==(n=e.exec(u))){var f=n.index+1;switch(n[0].length){case 5:s[f]+="{",a[f]+="+",a[f+1]+="+",a[f+2]+="}";break;case 4:s[f]+="{",a[f]+="+",a[f+1]+="}";break;case 3:break;default:console.error("Error in texParser makeDegreeUnit")}}else l=!0}while(0==l)}for(var d="",m=0;m<a.length;m++)(c=s[m])!==r&&(d+=c,d+=o[m],d+=a[m]);var g="\\textcolor{blue}{",v=d.replace(/'/g,g+"'}");return v=(v=v.replace(/Â°/g,g+"Â°}")).replace(/â/g,g+"''}")}(t.leaf.content);break;case 2:i="parse brackets",function(t){ae(t,(function(e){var n=!1;do{-1==e.addBracket(t)&&(n=!0)}while(!1===n)})),t.nodelist}(t);break;case 3:i="parse equal",fe(t,"equal"),i="parse plusminus",fe(t,"plusminus");break;case 4:i="parse timesdivided",fe(t,"timesdivided");break;case 5:i="unify subscript and exponent (part 1)",function(t){for(var e of["_","^"])ae(t,(function(n){var i=!1,r=0;do{var s=n.content.indexOf(e,r);if(s<0)i=!0;else{r=s+1;var o=n.content.substring(0,s),a=(o.match(/Â§/g)||[]).length,l=n.content.substr(s+2),c=n.content.substr(s+1,1);if("Â§"!==c){var u=re("leaf",c,t);u.parent=n.id,n.children.splice(a,0,u.id)}n.content=o+e+"Â§"+l}}while(!1===i)}))}(t);break;case 6:i="parse integral",function(t){ae(t,(function(e){const n="\\int_Â§^Â§";var i=e.content.indexOf(n);if(i>-1){var r=e.content.substring(0,i),s=e.content.substring(i+n.length),o=(r.match(/Â§/g)||[]).length,a=(s.match(/Â§/g)||[]).length,l=r+"Â§";e.content=l;var c=t.nodelist[e.children[o]],u=t.nodelist[e.children[o+1]],p=re("integral","",t),h=re("leaf",s,t),f=s.substring(s.length-2);if(f.startsWith("d")){1==f.length&&(f+="x"),h.content=s.substr(0,s.length-2);var d=re("differential",f,t);p.children=[c.id,u.id,h.id,d.id],d.parent=p.id}else p.children=[c.id,u.id,h.id];p.parent=e.id,c.parent=p.id,u.parent=p.id,h.parent=p.id,e.children[o]=p.id,e.children.splice(o+1,1);for(var m=o+1;m<=o+a;m++){var g=e.children[m];h.children.push(g),t.nodelist[g].parent=h.id}e.children.splice(o+1,a)}}))}(t);break;case 7:i="parse square root / nth root",function(t){ve(t,!0)}(t),function(t){ve(t,!1)}(t);break;case 8:i="parse log_base",be(t,"log");break;case 9:i="parse lim",be(t,"lim");break;case 10:i="parse functions",function(t){ae(t,(function(e){var n,i=!1,r=0;do{var s="fu-"+(n=ye()[r]);n="\\"+n;var o=e.content.indexOf(n);if(o>-1){var a=e.content.substring(0,o),l=(a.match(/Â§/g)||[]).length,c=e.content.substring(o+n.length),u=(c.match(/Â§/g)||[]).length,p=re(s,"",t);p.parent=e.id;var h=e.children[l]||0;if(e.children[l]=p.id,c.startsWith("^Â§")){p.content="power";var f=re("leaf",c=c.substring(2),t);p.children[0]=h,t.nodelist[h].parent=p.id,p.children[1]=f.id,f.parent=p.id}else if("Â§"==c)p.children[0]=h,t.nodelist[h].parent=p.id;else{(f=re("leaf",c=c.trim(),t)).parent=p.id,p.children[0]=f.id;for(var d=l+1;d<=l+u;d++){var m=e.children[d];f.children.push(m),t.nodelist[m].parent=f.id}e.children.splice(l,u)}e.content=a+"Â§"}else r++;r>=ye().length&&(i=!0)}while(!1===i)}))}(t);break;case 11:i="parse fractions",function(t){const e="\\fracÂ§Â§";ae(t,(function(n){for(;;){var i=n.content.indexOf(e);if(i<=-1)break;var r=n.content.substring(0,i),s=n.content.substring(i+e.length),o=(r.match(/Â§/g)||[]).length;n.content=r+"Â§"+s,t.nodelist[n.children[o]].type,t.nodelist[n.children[o+1]].type;var a=re("frac","",t);a.parent=n.id,a.children=[n.children[o],n.children[o+1]],t.nodelist[n.children[o]].parent=a.id,t.nodelist[n.children[o+1]].parent=a.id,n.children[o]=a.id,n.children.splice(o+1,1)}}))}(t);break;case 12:i="parse textcolor (unit)",function(t){const e="\\textcolorÂ§Â§";ae(t,(function(n){for(;;){var i=n.content.indexOf(e);if(i<=-1)break;var r=n.content.substring(0,i),s=n.content.substring(i+e.length),o=(r.match(/Â§/g)||[]).length;n.content=r+"Â§"+s;var a=t.nodelist[n.children[o]],l=t.nodelist[a.children[0]],c=re("unit",l.content,t);c.parent=n.id,c.children[0]=n.children[o+1],t.nodelist[n.children[o+1]].parent=c.id,n.children[o]=c.id,n.children.splice(o+1,1),a.type="free",t.listOfFree.push(a.id),l.type="free",t.listOfFree.push(l.id)}}))}(t);break;case 13:i="delete single Â§ nodes",ue(t);break;case 14:i="parse greek",function(t){ae(t,(function(e){var n=0,i=-1;do{var r="\\"+["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","varepsilon","vartheta","varkappa","varpi","varrho","varsigma","varphi","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","to","infty"][n];if((i=e.content.indexOf(r))>-1){var s=e.content.substring(0,i),o=(s.match(/Â§/g)||[]).length,a=e.content.substring(i+r.length),l=re("greek",["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","varepsilon","vartheta","varkappa","varpi","varrho","varsigma","varphi","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","to","infty"][n],t);l.parent=e.id,e.children.splice(o,0,l.id),e.content=s+"Â§"+a}else n++}while(n<=["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","varepsilon","vartheta","varkappa","varpi","varrho","varsigma","varphi","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","to","infty"].length)}))}(t);break;case 15:i="parse numbers",function(t){ae(t,(function(e){var n=e.content.trim(),i="(\\d+(\\.|\\,))?\\d+";if(0==n.search(i)){var r=n.match(i),s=n.substr(0,r[0].length),o=n.substring(r[0].length);e.content="Â§"+o;var a=re("number",s,t);a.value=s,a.parent=e.id,e.children.splice(0,0,a.id)}}))}(t);break;case 16:i="delete single Â§ nodes",ue(t);break;case 17:i="parse mixed numbers ",function(t){ae(t,(function(e){if(e.content.trim().startsWith("Â§Â§")){var n=t.nodelist[e.children[0]];if("number"==n.type){var i=t.nodelist[e.children[1]];if("frac"==i.type){var r=t.nodelist[i.children[0]];if("bracket-{"==r.type)var s=t.nodelist[r.children[0]];var o=t.nodelist[i.children[1]];if("bracket-{"==o.type)var a=t.nodelist[o.children[0]];if("number"==s.type&&"number"==a.type){var l=re("mixedNumber","",t);e.content=e.content.substr(1),e.children.shift(),e.children[0]=l.id,l.parent=e.id,l.children.push(n.id),n.parent=l.id,l.children.push(i.id),i.parent=l.id}}}}}))}(t);break;case 18:i="unify subscript (part 2) ",xe(t,!1);break;case 19:i="parse subscript",we(t,!1);break;case 20:i="unify power (part 2) ",xe(t,!0);break;case 21:i="parse power",we(t,!0);break;case 22:i="delete single Â§ nodes",ue(t);break;case 23:i="parse unit",function(t){oe(t,(function(t){t.value="u"})),ae(t,(function(e){if(ce(t,e)){var n=Te(e.content);e.value=n[3]}}))}(t);break;case 24:i="parse factors",function(t){ae(t,(function(e){if(ce(t,e)){if(0==Te(r=e.content.trim())[0]){var n=r.substr(0,r.length-1),i=r.substr(r.length-1);1==Te(n)[0]&&1==Te(i)[0]&&(e.content=n+"*"+i)}}else{var r=e.content.trim();if(e.content=r,""==r&&(r="?"),1!==r.length){for(var s=r[0],o=1;o<r.length;o++)s+="*"+r[o];e.content=s}}})),fe(t,"invisibleTimes")}(t);break;case 25:i="delete single Â§ nodes",ue(t);break;default:i="end of parse",n=!0}return{message:i,endParse:n}}function ge(t){var e=new se;e.leaf.content=t;var n=!1;for(de.setCounter(0);!n;){n=me(e).endParse}return e}function ve(t,e){var n="\\sqrtÂ§";!0===e&&(n="\\sqrtÂ§Â§"),ae(t,(function(i){var r=!1;do{var s=i.content.indexOf(n);if(s>-1){var o,a,l=i.content.substring(0,s),c=i.content.substring(s+n.length),u=(l.match(/Â§/g)||[]).length;!0===e?(o=l+"Â§"+c,i.content=o,(a=re("nthroot","",t)).parent=i.id,a.children=[i.children[u],i.children[u+1]],t.nodelist[i.children[u]].parent=a.id,t.nodelist[i.children[u+1]].parent=a.id,i.children[u]=a.id,i.children.splice(u+1,1)):(o=l+"Â§"+c,i.content=o,(a=re("sqrt","",t)).parent=i.id,a.children=[i.children[u]],t.nodelist[i.children[u]].parent=a.id,i.children[u]=a.id)}else r=!0}while(!1===r)}))}function be(t,e){var n="\\"+e+"_Â§";ae(t,(function(i){var r=!1;do{var s=i.content.indexOf(n);if(s>-1){var o=i.content.substring(0,s),a=i.content.substring(s+n.length),l=(o.match(/Â§/g)||[]).length,c=(a.match(/Â§/g)||[]).length,u=o+"Â§";i.content=u;var p=t.nodelist[i.children[l]],h=re("fu-"+e,"",t),f=re("leaf",a,t);h.parent=i.id,h.children=[p.id,f.id],p.parent=h.id,f.parent=h.id,i.children[l]=h.id;for(var d=l+1;d<l+1+c;d++)f.children.push(i.children[d]),t.nodelist[i.children[d]].parent=f.id;i.children.splice(l+1,c)}else r=!0}while(!r)}))}function ye(){return["sinh","cosh","tanh","sin","cos","tan","ln","lg","log","exp","abs","arcsin","arccos","arctan"]}function xe(t,e){var n="_Â§";e&&(n="^Â§"),ae(t,(function(e){var i=0,r=!1;do{var s=e.content.indexOf(n,i);if(s<0)r=!0;else{i=s+1;var o=e.content.substring(0,s-1),a=(o.match(/Â§/g)||[]).length,l=e.content.substr(s-1,1),c=e.content.substr(s+2);if(ce(t,e)&&(o="",a=0,l=e.content.substr(0,s)),"Â§"!==l){var u=re("leaf",l,t);u.parent=e.id,e.children.splice(a,0,u.id)}e.content=o+"Â§"+n+c}}while(!r)}))}function we(t,e){var n="Â§_Â§",i="sub";e&&(n="Â§^Â§",i="power"),ae(t,(function(r){for(var s=-1;!((s=r.content.indexOf(n))<=-1);){var o=r.content.substring(0,s),a=r.content.substr(s,3),l=r.content.substr(s+3),c=(o.match(/Â§/g)||[]).length,u=t.nodelist[r.children[c]],p=t.nodelist[r.children[c+1]];if(!e&&p.type.startsWith("bracket")){var h=t.nodelist[p.children[0]];"leaf"==h.type&&(h.type="text")}a!==n&&console.error("Error in parseSubPower: "+n+" not found");var f=re(i,"",t);f.parent=r.id,r.children.splice(c,2,f.id),r.content=o+"Â§"+l,f.children.push(u.id),u.parent=f.id,f.children.push(p.id),p.parent=f.id}}))}function Te(t){var e=!1,n="",i="dummy",r=ke(t=t.trim());if("u"==r){if(t.length>1){n=t.substr(0,1);var s=t.substr(1),o=function(t){var e="y__z__a__f__p__n__Âµ__mcd__hk__M__G__T__P__E__Z__Y".indexOf(t),n=0;n=e>-1?Math.pow(10,e-24):"u";return n}(n);if("u"==o)e=!1;else{var a=ke(s);"u"==a?e=!1:(r=o*a,i=s,e=!0)}}}else i=t,e=!0;return 0==e&&(n="",r=1,i="<unknown unit>"),[e,n,i,r]}function ke(t){var e={g:.07003725611783,m:.5933875512401,A:80.49921777482,s:.009066344172904,mol:.0003904471947388,Celsius:.0072209518210337,Kelvin:857.3310992341,one:1};e.min=60*e.s,e.h=60*e.min,e.d=24*e.h,e.C=e.A*e.s,e.e=16021764874e-29*e.C,e.N=1e3*e.g*e.m/(e.s*e.s),e.J=e.N*e.m,e.W=e.J/e.s,e.V=e.W*e.A,e["\\Omega"]=e.V/e.A,e.Pa=e.N/(e.m*e.m),e.bar=1e5*e.Pa,e.Liter=.001*e.m*e.m*e.m,e.l=e.Liter,e.Ar=100*e.m*e.m,e["Â°C"]=e.Celsius,e["Â°"]=e.one*Math.PI/180,e["''"]=e["Â°"]/3600,e["'"]=e["Â°"]/60,e.K=e.Kelvin,e.dag=10*e.g;var n=e[t];return void 0===n&&(n="u"),n}function qe(t){return t.hasValue?Ce(t.root,t):void 0}function Ce(t,e){var n,i,r,s,o,a=t.children,l=a.length;if(0==l&&("number"==t.type&&(o=t.content.replace(",","."),t.value=o),"invisible_zero"==t.type&&(t.value=0),ce(e,t)&&1==(o=Te(t.content))[0]&&(t.value=o[3])),1==l){var c=Ce(i=e.nodelist[a[0]],e);t.type.startsWith("bracket-")||"root"==t.type||"unit"==t.type?"bracket-\\left|"==t.type?t.value=Math.abs(c):t.value=c:t.type.startsWith("fu-")&&(n=t.type.substr(3),t.value=Ee(n,c)),"sqrt"==t.type&&(t.value=Math.sqrt(c))}if(2==l){i=e.nodelist[a[0]],r=e.nodelist[a[1]];var u=Ce(i,e),p=Ce(r,e);if("*"==t.type&&(t.value=Number(u)*Number(p)),"timesdivided"==t.type&&("\\cdot"==t.content&&(t.value=Number(u)*Number(p)),":"==t.content&&(t.value=Number(u)/Number(p))),"nthroot"==t.type&&(t.value=Math.pow(Number(p),1/Number(u))),"power"==t.type&&(t.value=Math.pow(Number(u),Number(p))),"fu-log"==t.type&&(t.value=Math.log(Number(p))/Math.log(Number(u))),t.type.startsWith("fu-")&&"power"==t.content){var h=Ee(n=t.type.substr(3),p);t.value=Math.pow(h,u)}"mixedNumber"==t.type&&(t.value=Number(u)+Number(p)),"plusminus"==t.type&&("+"==t.content&&(t.value=Number(u)+Number(p)),"-"==t.content&&(t.value=Number(u)-Number(p))),"frac"==t.type&&(t.value=Number(u)/Number(p)),"equal"==t.type&&(0!==Number(p)?t.value=Number(u)/Number(p):t.value=(Number(u)+Math.PI)/(Number(p)+Math.PI))}return l>2&&(i=e.nodelist[a[0]],r=e.nodelist[a[1]],s=e.nodelist[a[2]],Ce(i,e),Ce(r,e),Ce(s,e)),t.value}function Ee(t,e){var n="u";return"sinh"==t&&(n=Math.sinh(e)),"cosh"==t&&(n=Math.cosh(e)),"tanh"==t&&(n=Math.tanh(e)),"sin"==t&&(n=Math.sin(e)),"cos"==t&&(n=Math.cos(e)),"tan"==t&&(n=Math.tan(e)),"ln"==t&&(n=Math.log(e)),"lg"==t&&(n=Math.log10(e)),"exp"==t&&(n=Math.exp(e)),"abs"==t&&(n=Math.abs(e)),"arcsin"==t&&(n=Math.asin(e)),"arccos"==t&&(n=Math.acos(e)),"arctan"==t&&(n=Math.atan(e)),n}function Oe(t,e){var n=1==arguments.length,i=[],r=!0;if(t.withEachNode=function(t){"integral"==t.type&&(r=!1),"lim"==t.type&&(r=!1),"text"==t.type&&(r=!1)},r){le(t,(function(e){if(ce(t,e)){var n=Te(e.content);e.value=n[3]}}));var s=0;do{var o=!1,a=!1,l=t.nodelist;do{var c=l[s];if("leaf"!=c.type&&"greek"!=c.type||"u"!=c.value?s++:(a=!0,o=!0),s===l.length&&(o=!0),a){var u=c.content;if(1==n)var p=2*Math.PI*Math.random(),h=-2*Math.log(Math.random()),f=1e3*Math.cos(p)*Math.sqrt(h);else void 0===(f=e[u])&&(console.error("Variable in definition set but not in applet: "+u),o=!0,s++,r=!1,a=!1);void 0!==f&&(le(t,(function(t){"u"==t.value&&(t.content==u&&(t.value=f),"\\pi"==t.content&&(t.value=Math.PI,f=Math.PI),"e"==t.content&&(t.value=Math.E,f=Math.E))})),i[u]=f)}}while(!o)}while(a)}t.hasValue=r,t.variableValueList=i}function _e(t){var e=t.replace(".",",");(e=(e=(e=(e=e.replace("e","*10^")).replace("E","*10^")).replace("\\cdot","*")).replace(/\\ /g,"")).endsWith(",")&&(e=e.substr(0,e.length-1)),e.endsWith("*")&&(e=e.substr(0,e.length-1)),e.endsWith("*1")&&(e=e.substr(0,e.length-2)),e.endsWith("*10")&&(e=e.substr(0,e.length-3));var n=e,i="",r=e.indexOf("*10^");r>-1?(n=e.substr(0,r),i=e.substr(r+4)):n.startsWith("10^")&&(i=n.substr(3),n=""),i=(i=(i=i.replace("{","")).replace("}","")).toString();var s=RegExp("((\\-)?((\\d+)?\\,)?(\\d+))"),o=!1,a=s.exec(n);null!==a&&n==a[0]&&(o=!0);var l=!1,c=s.exec(i);return null!==c?i==c[0]&&(l=!0):l=!0,{isScientific:o&&l,mantissa:n,exponent:i}}var Se=Se||"x8rT3dkkS";async function Ae(t){await async function(){if(await Ht,0==i("div#ed_before").length){var t=i(".formula_applet#editor");t.before('<p id="mode_select">'),i("p#mode_select").append('  <h3><span class="tr en mw-headline" id="Mode">Mode</span><span class="tr de mw-headline" id="Mode">Modus</span></h3>'),i("p#mode_select").append('  <input type="radio" id="auto" name="select_mode" checked />'),i("p#mode_select").append('<label for="auto"><span class="tr en lse">Automatic (left side of equation will be compared to right side)</span><span class="tr de lse">Automatisch (linke und rechte Gleichungsseite werden verglichen)</span></label>'),i("p#mode_select").append("  <br/>"),i("p#mode_select").append('  <input type="radio" id="manu" name="select_mode" />'),i("p#mode_select").append('<label for="auto"><span class="tr en manu">Manual (input will be compared with given solution)</span><span class="tr de manu">Manuell (Eingabe wird mit einer vorgegeben L&ouml;sung verglichen)</span></label>'),t.before('<p id="input_id">'),i("p#input_id").append('  <label class="tr de idfa" for="fa_name">Id des Formel-Applets (4 bis 20 Zeichen)</label><label class="tr en idfa" for="fa_name">Id of Formula Applet (4 to 20 characters)</label>'),i("p#input_id").append('  <input type="text" id="fa_name" name="fa_bla_name" required minlength="4" maxlength="20" size="10">'),i("p#input_id").append('  <button type="button" class="tr de mfxi problemeditor" id="random-id-d">Zufalls-ID</button><button type="button" class="tr en mfxi problemeditor" id="random-id-e">Random ID</button>'),t.after('<hr /><textarea id="wiki-text" rows=4 cols=150></textarea>'),t.after('<button type="button" class="tr de peri problemeditor" id="set-unit-d">Einheit</button><button type="button" class="tr en peri problemeditor" id="set-unit-e">Unit</button><button type="button" class="tr de erau problemeditor" id="erase-unit-d">Einheit l&ouml;schen</button><button type="button" class="tr en erau problemeditor" id="erase-unit-e">Erase Unit</button>'),t.after('<button type="button" class="tr de sif problemeditor" id="set-input-d">Eingabe-Feld setzen</button><button type="button" class="tr en sif problemeditor" id="set-input-e">Set input field</button>');var e="https://github.com/gro58/FormulaApplet/blob/master/js/lib/ToDo.md";i(".prepend_uses#p_u").after('<p><span class="tr de uses">Das Formel-Applet benutzt die Bibliotheken jQuery, MathQuill und Hammer. </span><span class="tr en uses">FormulaApplet uses jQuery, MathQuill, and Hammer. </span><a href="'+e+'" class="tr de moreinfo">Weitere Informationen...</a><a href="'+e+'" class="tr en moreinfo">More info...</a></p>')}await Xt()}();var e=document.getElementById("math-field");if(!e)throw new Error("Cannot find math-field. The math editor must provide one.");var n=Ft.MathField(e,{spaceBehavesLikeTab:!0,handlers:{edit:function(){Qe(n.latex())}}});t.mathField=n,i("#set-input-d, #set-input-e").on("mousedown",(t=>{t.preventDefault(),function(t){var e=De(t,{erase:!0}),n=e[0],i=e[1],r=e[2],s=e[3];s=i.length>0?n+"\\class{inputfield}{"+i+"}"+r:Ne(s);t.latex(s)}(n)})),i("#set-unit-d, #set-unit-e").on("mousedown",(t=>{t.preventDefault(),console.log(n),Le(n)})),i("#erase-unit-d, #erase-unit-e").on("mousedown",(t=>{t.preventDefault(),Me(n)})),i("#random-id-d, #random-id-e").on("mousedown",(t=>{t.preventDefault();var e=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_+-!%",i=n.length,r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*i));return e}(8);document.getElementById("fa_name").value=e,Se=e,Qe(n.latex())})),i("#fa_name").on("input",(t=>{var e=t.target.value;4<=(e=(e=(e=(e=(e=(e=e.replace(/</g,"")).replace(/>/g,"")).replace(/"/g,"")).replace(/'/g,"")).replace(/&/g,"")).replace(/ /g,"_")).length&&e.length<=20&&(Se=e,Qe(n.latex()))})),i('input[type="radio"]').on("click",(t=>{var e=t.target.id;"auto"==e&&(i("p#editor span.mq-class.inputfield").prop("contentEditable","false"),Pe.set(!0),Qe(n.latex())),"manu"==e&&(i("p#editor span.mq-class.inputfield").prop("contentEditable","true"),Pe.set(!1),Qe(n.latex()))})),i("#random-id-d").mousedown(),i('input[type="radio"]#auto').click()}function De(t,e){var n=e.erase||!1,i=t.latex(),r=i;n&&(r=Re(i));var s=function(t){const e="âÂµâÃ¶âââââ¤â®â±â¸âºâ½â";var n=0;i="";do{var i=e[n],r=t.indexOf(i)>-1;++n>e.length&&(r=!1,i="no replacement char found")}while(r);return i}(i);if(-1==i.indexOf(s)){t.typedText(s);var o=t.latex();n&&(o=Re(o));var a,l,c=o.indexOf(s);a=o.substring(0,c),l=o.substring(c+s.length);var u=r.substr(0,a.length);u!==a&&console.error("Something went wrong with replacement of input field",u,a),(u=(r=r.substring(a.length)).substring(r.length-l.length))!==l&&console.error("Something went wrong with replacement of input field",u,l);var p=[a,r.substring(0,r.length-l.length),l,i];return console.log("selection: "+p),p}}function je(t,e){var n=0,i=[],r=[];do{if((n=t.indexOf(e,n))>=0){var s=he(t.substr(n+e.length-1),"{"),o=n+e.length+s.rightPos;i.push(n),r.push(o),n++}}while(n>=0);return{sofUnitTags:i,eofUnitTags:r}}function Le(t){var e,n,i="\\textcolor{blue}{",r=De(t,{erase:!1}),s=r[0],o=r[1],a=(r[2],r[3]),l=s.length,c=l+o.length,u=".".repeat(a.length).split("");for(n=l;n<c;n++)u[n]="s";var p=je(a,i),h=p.sofUnitTags,f=p.eofUnitTags,d=".".repeat(a.length).split("");for(e=0;e<h.length;e++)for(n=h[e];n<f[e];n++)d[n]="#";for(e=0;e<h.length;e++)h[e]<l&&l<=f[e]&&(l=h[e],e=h.length);for(e=0;e<h.length;e++)h[e]<=c&&c<=f[e]&&(c=f[e],e=h.length);for(u=".".repeat(a.length).split(""),n=l;n<c;n++)u[n]="s";var m=a.split("");for(e=0;e<h.length;e++)if(l<=h[e]&&f[e]<=c){for(n=h[e];n<h[e]+i.length;n++)m[n]="Â§";m[f[e]-1]="Â§"}if(a=m.join(""),o.length>0){var g=(s=a.substring(0,l))+i+(o=a.substring(l,c))+"}"+a.substring(c);g=g.replace(/Â§/g,"")}else g=a.replace(/Â§/g,"");t.latex(Ne(g))}function Ne(t){var e=t.replace("\\class{inputfield}{","\\class{");return e=e.replace("\\class{","\\class{inputfield}{")}function Me(t){for(var e="\\textcolor{blue}{",n=De(t,{erase:!1}),i=n[3],r=je(i,e),s=r.sofUnitTags,o=r.eofUnitTags,a=n[0].length,l=i.split(""),c=0;c<s.length;c++)if(s[c]<=a&&a<=o[c]){for(var u=s[c];u<s[c]+e.length;u++)l[u]="Â§";l[o[c]-1]="Â§"}i=(i=l.join("")).replace(/Â§/g,""),t.latex(Ne(i))}function Ie(t){var e,n,i,r="\\class{inputfield}{",s=t.indexOf(r);if(s>-1){e=t.substring(0,s);var o=t.substring(s+r.length-1),a=he(o,"{");0===a.leftPos&&1===a.bracketLength&&1===a.rightBracketLength||console.error("Something went wront at separateInputfield()",a),n=o.substring(1,a.rightPos),i=o.substring(a.rightPos+1)}else e="",n="",i=t;return{before:e,tag:n,after:i}}function Re(t){var e=Ie(t);return e.before+e.tag+e.after}const Pe={auto:!0,set:function(t){this.auto=t},get:function(){return this.auto}};function Qe(t){console.log(t),function(t){var e,n='<p class="formula_applet"';e=Pe.get()?"auto":"manu";var r=' id="'+Se;"manu"==e&&(r+='" data-b64="'+ee(t.tag));r+='">',r+=t.before,r+="{{result}}",r=(r+=t.after).replace(/\\textcolor{blue}{/g,"\\unit{"),n+=r+"</p>";var s=i("textarea#wiki-text");s.length>0&&s.text(n)}(Ie(t))}const ze='<span style="white-space: nowrap; font-size:larger">&radic;<span style="text-decoration:overline;">&nbsp;&#x2b1a;&nbsp;</span></span>',Fe=["left",'<span style="font-size: 130%">â</span>',"#Left"],Be=["right",'<span style="font-size: 130%">â»</span>',"#Right"],He=["enter",'<span style="font-size: 150%; color:green">â</span>',"#Enter"],We=["backspace","â«","#Backspace"],$e=["power_of_ten",'10<sup style="font-size: 85%">â¬</sup>',"10^"];var Ue=[];function Xe(t){let e=document.createElement("table");e.id="table_"+t;let n=document.createElement("tbody");e.append(n);for(let e=0;e<Ue[t].length;e++){var i=Ue[t][e];let o=document.createElement("tr");o.classList.add("virtualKeyboard-row"+e),n.append(o);for(var r=0;r<i.length;r++){var s=i[r];if(void 0===s[1]&&(s[1]=s[0]),void 0===s[2])if("greek"==t||"greek_caps"==t){"0_1_2_3_4_5_6_7_8_9_shift_".indexOf(s[0]+"_")<0?s[2]="\\"+s[0]+" ":s[2]=s[0]}else s[2]=s[0];let e=document.createElement("td");e.classList.add("virtualKeyboardButton"),e.classList.add("virtualKeyboard-"+s[0]),s[0].startsWith("smallgap")&&e.classList.add("smallgap"),e.setAttribute("cmd",s[2]),e.innerHTML=s[1],o.append(e)}}return e}function Ke(t){if("shift"==t.toLowerCase()){switch(Ve){case"abc":Ve="abc_caps";break;case"abc_caps":Ve="abc_capslock";break;case"abc_capslock":Ve="abc"}switch(Ve){case"greek":Ve="greek_caps";break;case"greek_caps":Ve="greek_capslock";break;case"greek_capslock":Ve="greek"}}else i(".formula_applet").trigger("customKeyboardEvent",t),"abc_caps"==Ve&&(Ve="abc"),"greek_caps"==Ve&&(Ve="greek");Ye(Ve)}Ue.mixed=[[["a"],["b"],["c"],["pi","&pi;","\\pi "],["smallgap-0","",""],["7"],["8"],["9"],["times","&times;","\\cdot "],["divided","&divide;","/"]],[["x"],["y"],["z"],["e"],["smallgap-1","",""],["4"],["5"],["6"],["plus","+","+"],["minus","-","-"]],[$e,["lg","lg","lg("],["power","â¬<sup>â¬</sup>","^"],["nthRoot",'<sup style="position: relative; top: -0.5em; right: -0.5em;">â¬</sup><span style="white-space: nowrap; font-size:larger">&radic;<span style="text-decoration:overline;">&nbsp;&#x2b1a;&nbsp;</span></span>',"#nthroot"],["smallgap-2","",""],["1"],["2"],["3"],["up","â","^"],We],[["bracket-left","(","("],["bracket-right",")",")"],["square",'â¬<sup style="font-size: 85%">2</sup>',"#square"],["squareroot",ze,"\\sqrt "],["smallgap-3","",""],["0"],["comma",",",","],Fe,Be,He]],Ue.function=[[["sin",'<span style="font-size: 85%">sin</span>'],["cos",'<span style="font-size: 85%">cos</span>'],["tan",'<span style="font-size: 85%">tan</span>'],["smallgap-0","",""],["degree","Â°"],["minute","'"],["second","''"],["setUnit",'<span class="tr de kunit">Einheit</span><span class="tr en kunit">Unit</span>',"#setUnit"],["pi","&pi;","\\pi "]],[["arcsin",'<span style="font-size: 85%">sin<sup>-1</sup></span>'],["arccos",'<span style="font-size: 85%">cos<sup>-1</sup></span>'],["arctan",'<span style="font-size: 85%">tan<sup>-1</sup></span>'],["smallgap-1","",""],["abs","ââ¬â","| |"],["subscript",'â¬<sub style="font-size: 85%">â¬</sub>'],["space",'<span class="tr de kspace">Leer</span><span class="tr en kspace">Space</span>',"\\ "],["eraseUnit",'<span class="tr de kclru">Einheit<br>l&ouml;schen</span><span class="tr en kclru">Clear<br>Unit</span>',"#eraseUnit"],["infinity","&infin;","\\infinity "]],[["ln"],["lg"],["log_base",'log<sub style="font-size: 85%">â¬</sub>',"log_"],["smallgap-2","",""],["bracket-left","(","("],["bracket-right",")",")"],["up","&uarr;","#Up"],["down","&darr;","#Down"],We],[["exp",'e<sup style="font-size: 85%">â¬</sup>'],$e,["power","â¬<sup>â¬</sup>","^"],["smallgap-3","",""],["squareroot",ze,"\\sqrt "],["abs",'<span style="font-size: 85%">abs</span>'],Fe,Be,He]],Ue.abc=[[["1"],["2"],["3"],["4"],["5"],["6"],["7"],["8"],["9"],["0"],["szlig","&szlig;"]],[["q"],["w"],["e"],["r"],["t"],["z"],["u"],["i"],["o"],["p"],["ue","&uuml;"]],[["a"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["oe","&ouml;"],["ae","&auml;"],We],[["shift","â"],["y"],["x"],["c"],["v"],["b"],["n"],["m"],["comma",","],["up","â"],Fe,Be,He]],Ue.abc_caps=[[["1"],["2"],["3"],["4"],["5"],["6"],["7"],["8"],["9"],["0"],["szlig","&szlig;"]],[["Q"],["W"],["E"],["R"],["T"],["Z"],["U"],["I"],["O"],["P"],["UE","&Uuml;"]],[["A"],["S"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["OE","&Ouml;"],["AE","&Auml;"],We],[["shift","â"],["Y"],["X"],["C"],["V"],["B"],["N"],["M"],["comma",","],["up","â"],Fe,Be,He]],Ue.greek=[[["1"],["2"],["3"],["4"],["5"],["6"],["7"],["8"],["9"],["0"]],[["varphi","&phi;"],["zeta","&zeta;"],["epsilon","&epsilon;"],["rho","&rho;"],["tau","&tau;"],["ypsilon","&upsilon;","\\upsilon "],["theta","&theta;"],["iota","&iota;"],["omikron","&omicron;","\\omicron "],["pi","&pi;"]],[["alpha","&alpha;"],["sigma","&sigma;"],["delta","&delta;"],["phi","&varphi;"],["gamma","&gamma;"],["eta","&eta;"],["xi","&xi;"],["kappa","&kappa;"],["lambda","&lambda;"],We],[["shift","â"],["zeta","&zeta;"],["chi","&chi;"],["psi","&psi;"],["omega","&omega;"],["beta","&beta;"],["ny","&nu;","\\nu "],["my","&mu;","\\mu "],Fe,Be,He]],Ue.greek_caps=[[["1"],["2"],["3"],["4"],["5"],["6"],["7"],["8"],["9"],["0"]],[["Phi","&Phi;"],["Zeta","&Zeta;"],["Epsilon","&Epsilon;"],["Rho","&Rho;"],["Tau","&Tau;"],["Upsilon","&Upsilon;"],["Theta","&Theta;"],["Iota","&Iota;"],["Omikron","&Omicron;"],["Pi","&Pi;"]],[["Alpha","&Alpha;"],["Sigma","&Sigma;"],["Delta","&Delta;"],["Phi","&Phi;"],["Gamma","&Gamma;"],["Eta","&Eta;"],["Xi","&Xi;"],["Kappa","&Kappa;"],["Lambda","&Lambda;"],We],[["shift","â"],["Zeta","&Zeta;"],["Chi","&Chi;"],["Psi","&Psi;"],["Omega","&Omega;"],["Beta","&Beta;"],["Ny","&Nu;"],["My","&Mu;"],Fe,Be,He]];var Ve="dummy";function Ye(t){switch(i(".virtualKeyboard_tab button").removeClass("selected"),t){case"abc":case"abc_caps":case"abc_capslock":i(".virtualKeyboard_tab button#button-table_abc").addClass("selected");var e="abc";"abc_caps"==t&&(e="ABC"),"abc_capslock"==t&&(e="[ABC]"),i(".virtualKeyboard_tab button#button-table_abc").text(e);break;case"greek":case"greek_caps":case"greek_capslock":i(".virtualKeyboard_tab button#button-table_greek").addClass("selected"),e="Î±Î²Î³","greek_caps"==t&&(e="ÎÎÎ"),"greek_capslock"==t&&(e="[ÎÎÎ]"),i(".virtualKeyboard_tab button#button-table_greek").text(e);break;case"off":Je();break;default:i(".virtualKeyboard_tab button#button-table_"+t).addClass("selected")}i("#virtualKeyboard table").css("display","none");var n=t;"abc_capslock"==t&&(n="abc_caps"),"greek_capslock"==t&&(n="greek_caps"),i("#virtualKeyboard table#table_"+n).css("display","table"),Ve=t}function Ge(t,e){switch(e){case"abc":Ve="abc"==Ve?"abc_caps":"abc";break;case"greek":Ve="greek"==Ve?"greek_caps":"greek";break;default:Ve=e}i("#virtualKeyboard table").css("display","none"),i("#virtualKeyboard table#table_"+Ve).css("display","table"),Ye(Ve)}function Ze(){var t=i("#keyboard")[0];void 0===t&&((t=document.createElement("div")).id="keyboard",t.append(function(){let t=document.createElement("div");t.id="virtualKeyboard";let e=document.createElement("div");e.id="virtualKeyboard_header",e.innerText="Move",t.append(e);let n=document.createElement("div");n.id="virtualKeyboard_tab",n.classList.add("virtualKeyboard_tab");const i={mixed:"123&radic;+-&nbsp;&nbsp;&nbsp;",function:"&nbsp;f(x)&nbsp;",abc:"abc",greek:"Î±Î²Î³",off:"&nbsp;â"};for(let t of Object.keys(i)){let e=document.createElement("button");e.classList.add("tablinks"),e.id="button-table_"+t,e.onclick=e=>Ge(0,t),e.innerHTML=i[t],n.append(e)}t.append(n);for(let e of["abc","abc_caps","mixed","function","greek","greek_caps"])t.append(Xe(e));return t}()),document.body.appendChild(t)),function(){i(".virtualKeyboardButton").mousedown((function(t){t.preventDefault(),Ke(u(t))})),i(".virtualKeyboardButton").find().mousedown((function(t){t.preventDefault(),Ke(u(t))}));var t=document.getElementById("virtualKeyboard"),e=new o(t),n=1,r=1,s=1,a=1;e.on("panstart panmove",(function(e){"panstart"==e.type&&(s=t.offsetLeft,a=t.offsetTop,n=s,r=a),"panmove"==e.type&&(n=s+e.deltaX,r=a+e.deltaY,t.style.left=n+"px",t.style.top=r+"px")}));var l=1,c=1;function u(t){var e=i(t.target).attr("cmd");if(void 0===e){var n=i(t.target).parents().filter(".virtualKeyboardButton");e=i(n).attr("cmd")}return e}e.get("pinch").set({enable:!0}),e.on("pinch pinchstart",(function(t){if("pinchstart"==t.type&&(c=l),"pinch"==t.type){var e="translate(-50%, -50%) scale("+(l=c*t.scale)+")";i("#virtualKeyboard").css("transform",e)}}))}(),Ye("mixed"),Je()}function Je(){i("#virtualKeyboard").css("display","none"),i(".formula_applet.selected").nextAll("button.keyb_button:first").addClass("selected")}function tn(){i("#virtualKeyboard").css("display","table"),i("#virtualKeyboard table").css("display","none"),Ye("mixed"),i("#virtualKeyboard table#table_"+Ve).css("display","table")}var en=0,nn=[],rn=!0;class sn{constructor(){this.index="",this.id="",this.formulaApplet="",this.hasSolution=void 0,this.solution="",this.mqEditableField="",this.mathField="",this.hammer="",this.definitionsetList=[],this.precision=Wt,this.hasResultField=!0,this.unitAuto=!1,this.innerOri="",this.replaced=""}}async function on(){await Ht,i("img.mod").remove(),i('<button class="keyb_button">â¨</button>').insertAfter(i(".formula_applet")),i("button.keyb_button").on("mousedown",(function(){tn(),i("button.keyb_button").removeClass("selected")})),un(),async function(){Ut||(console.debug("initTranslation()"),i((function(){i("#de").on("click",(function(){$t("de")})),i("#en").on("click",(function(){$t("en")}))})),Ut=!0,await Xt())}(),i("body").on("click",(function(){i(".formula_applet").removeClass("selected"),i("button.keyb_button").removeClass("selected")})),i("body").on("keyup",(function(t){"Tab"==t.originalEvent.key&&i(t.target).parents(".formula_applet").click()}))}function an(t){var e=nn[en].mathField;if(void 0!==e){var n=!1;" "==t.substr(t.length-1)&&(n=!0,t=t.substring(0,t.length-1)),t.startsWith("#")?"Enter"==(t=t.substring(1))?cn(en):"setUnit"==t?Le(e):"eraseUnit"==t?Me(e):"nthroot"==t?function(){var t=nn[en].mathField;t.cmd("\\nthroot"),t.typedText(" "),t.keystroke("Tab"),t.typedText(" "),t.keystroke("Left"),t.keystroke("Left"),t.keystroke("Shift-Left")}():"square"==t?(e.keystroke("Up"),e.typedtext("2")):e.keystroke(t):e.typedText(t),n&&(e.typedText(" "),e.keystroke("Backspace"))}}function ln(t,e,n){console.log(e);var r=ge(e);r=function(t,e){var n=JSON.stringify(t);if(0==e.length)return Oe(t),t;for(var i=!1,r=new Date,s=0;!i&&s<2e3;){var o=new se;Oe(o=JSON.parse(n));for(var a=o.variableValueList,l=0;l<e.length;l++){var c=ge(e[l]);Oe(c,a);var u=qe(c);(i=u>0||void 0===u)||(l=e.length)}s=(new Date).getTime()-r.getTime()}return i||(o.hasValue=!1,o.variableValueList=[]),o}(r,n);var s=qe(r);Math.abs(s-1)<function(t){for(var e=0;e<nn.length;e++)if(nn[e].id==t)return nn[e]}(t).precision?i("#"+t).removeClass("mod_wrong").addClass("mod_ok"):i("#"+t).removeClass("mod_ok").addClass("mod_wrong")}function cn(t){if(1==rn){var e=nn[t].mathField,n=Ft.StaticMath(nn[t].formulaApplet),i=nn[t].solution,r=nn[t].hasSolution,s=nn[t].unitAuto,o=nn[t].id,a=nn[t].definitionsetList,l="";l=r?e.latex():n.latex(),s&&(l=function(t){var e=t.latex(),n=e,i="\\textcolor{blue}{",r=e.indexOf(i);if(r>=0){var s=e.substr(0,r),o=e.substr(r+i.length-1),a=he(o,"{"),l=o.substring(1,a.rightPos),c=o.substr(a.rightPos+1),u=_e(s).isScientific;if(u&&l.length>0){var p=s+i+l+c+"}";n=s+i+l+c+"}",rn=!1,t.latex(p),t.keystroke("Left"),rn=!0}}else{for(var h="",f=e.length;f>=0&&!(u=_e(h=e.substr(0,f)).isScientific);f--);h.length>0&&(o=e.substr(h.length)).length>0&&(p=h+i+o+"}",n=h+i+o+"}",rn=!1,t.latex(p),t.keystroke("Left"),rn=!0)}return n}(e)),r?function(t,e,n,i){ln(t,e+"="+n,i)}(o,l,i,a):ln(o,n.latex(),a)}}async function un(){await Ht,console.debug("mathQuillify()"),Ze(),i(".formula_applet:not(.mq-math-mode)").each((function(){var t=this.innerHTML;this.innerOri=t,this.innerHTML=t.replace(/{{result}}/g,"\\MathQuillMathField{}")})),i(".formula_applet:not(.mq-math-mode)").each((function(){var t=this.innerHTML;t=(t=t.replace(/\\Ohm/g,"\\Omega")).replace(/\\mathrm/g,""),this.innerHTML=t.replace(/\\unit{/g,"\\textcolor{blue}{"),this.replaced=t})),i(".formula_applet").each((async(t,e)=>{let n=i(e);var r=new sn;r.hasResultField=n.html().indexOf("\\MathQuillMathField{}")>=0,r.index=t,r.id=n.attr("id");var s="editor"==r.id.toLowerCase();s&&(r.hasResultField=!0);var a=n.attr("def");void 0!==a&&(r.definitionsetList=function(t){for(var e=(t=(t=t.replace(/\s/g,"")).replace(/&&/g,"&")).split("&"),n=0;n<e.length;n++){var i,r=e[n],s="";r.indexOf(">")>-1&&(s="0"==(i=r.split(">"))[1]?i[0]:i[0]+"-"+i[1]),r.indexOf("<")>-1&&(s="0"==(i=r.split("<"))[0]?i[1]:i[1]+"-"+i[0]),e[n]=s}return e}(a));var l=n.attr("unit"),c=void 0!==l&&"auto"==l,u=n.attr("mode"),p=void 0!==u&&"physics"==u;r.unitAuto=c||p;var h=n.attr("precision");if(void 0!==h&&(h=n.attr("prec")),h=function(t){if(void 0===t)t=Wt;else{var e="%"===(t=t.replace(/,/g,"."))[t.length-1];e&&(t=t.substring(0,t.length-1)),t=t.valueOf(),e&&(t*=.01)}return t}(h),r.precision=h,r.formulaApplet=e,n.click((e=>{if(r.hasResultField)e.stopPropagation(),i(".formula_applet").removeClass("selected"),i(".formula_applet").off("customKeyboardEvent"),n.addClass("selected"),n.on("customKeyboardEvent",(function(t,e){an(e)})),i("button.keyb_button").removeClass("selected"),"none"==i("#virtualKeyboard").css("display")&&n.nextAll("button.keyb_button:first").addClass("selected"),en=r.index;else{var s=Ft.StaticMath(nn[t].formulaApplet).latex();(new se).leaf.content=s}})),nn[t]=r,console.debug("isEditor="+s),s)console.log(r),Ae(r);else{try{Ft.StaticMath(e)}catch(t){console.error("Error using MQ.StaticMath: "+t),console.trace()}if(r.hasResultField){if(void 0!==n.attr("data-b64")){r.hasSolution=!0;var f=n.attr("data-b64");nn[t].solution=ne(f)}else r.hasSolution=!1;var d=n.find(".mq-editable-field")[0],m=Ft.MathField(d,{});m.config({handlers:{edit:()=>{d.focus(),cn(r.index)},enter:()=>{cn(r.index)}}}),r.mathField=m}}if(r.hasResultField){r.mqEditableField=d;try{r.hammer=new o(d),r.hammer.on("doubletap",(function(){tn()}))}catch(t){console.info("Hammer error: "+t)}}t++})),i('<img class="mod">').insertAfter(i(".formula_applet.mq-math-mode:not(.solution)"))}i(document).on("mathquillifyEvent",(function(){un()})),i(window).on("preparePageEvent",(function(){console.log("preparePageEvent received"),on()})),on()}();
